<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="3151px" preserveAspectRatio="none" style="width:1546px;height:3151px;background:#FFFFFF;" version="1.1" viewBox="0 0 1546 3151" width="1546px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="310" x2="310" y1="52.5938" y2="3144.6719"/><rect fill="#1E90FF" height="3079.0781" style="stroke:#181818;stroke-width:1.0;" width="10" x="305" y="60.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="455" x2="455" y1="52.5938" y2="3144.6719"/><rect fill="#1E90FF" height="2963.2813" style="stroke:#181818;stroke-width:1.0;" width="10" x="450" y="81.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="818" x2="818" y1="52.5938" y2="3144.6719"/><rect fill="#1E90FF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="813" y="293.0547"/><rect fill="#1E90FF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="813" y="1192.9688"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="933.5" x2="933.5" y1="52.5938" y2="3144.6719"/><rect fill="#1E90FF" height="54.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="928.5" y="562.6484"/><rect fill="#1E90FF" height="283.4766" style="stroke:#181818;stroke-width:1.0;" width="10" x="928.5" y="1547.0938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1041" x2="1041" y1="52.5938" y2="3144.6719"/><rect fill="#1E90FF" height="103.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1036" y="2689.8828"/><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="259.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="266.5" y="24.9951">Other Server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="296.5" y="41.292">App</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69" x="420.5" y="21.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="427.5" y="41.292">mil-auth</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="768.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="775.5" y="24.9951">Azure Active</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="787" y="41.292">Directory</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="877.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="884.5" y="24.9951">Azure Storage</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="905" y="41.292">Account</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="999.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="1006.5" y="24.9951">Azure Key</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="1024" y="41.292">Vault</text><polygon fill="#181818" points="438,77.7266,448,81.7266,438,85.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="315" x2="444" y1="81.7266" y2="81.7266"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="9" x="337" y="76.6606">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="350" y="76.6606">POST</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="384" y="76.6606">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="388" y="76.6606">/token</text><path d="M76,65.5938 L76,173.5938 L305,173.5938 L305,75.5938 L295,65.5938 L76,65.5938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M295,65.5938 L295,75.5938 L305,75.5938 L295,65.5938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="82" y="97.7935">RequestId:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="86" x="153" y="97.7935">&lt;request id&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="77" x2="168" y1="78.1602" y2="78.1602"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="168" y="82.1606">header</text><line style="stroke:#181818;stroke-width:0.5;" x1="213" x2="304" y1="78.1602" y2="78.1602"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="82" y="132.0591">grant_type=client_credentials&amp;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="82" y="147.1919">client_id=</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="71" x="145" y="147.1919">&lt;client id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="216" y="147.1919">&amp;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="82" y="162.3247">client_secret=</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="100" x="174" y="162.3247">&lt;client secret&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="77" x2="175" y1="112.4258" y2="112.4258"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="175" y="116.4263">body</text><line style="stroke:#181818;stroke-width:0.5;" x1="206" x2="304" y1="112.4258" y2="112.4258"/><path d="M8,183.3906 L158,183.3906 L158,190.5234 L148,200.5234 L8,200.5234 L8,183.3906 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="682.25" style="stroke:#000000;stroke-width:1.5;" width="1325.5" x="8" y="183.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="105" x="23" y="196.4575">verify client id</text><path d="M140,214.5234 L358,214.5234 L358,221.6563 L348,231.6563 L140,231.6563 L140,214.5234 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="266.7266" style="stroke:#000000;stroke-width:1.5;" width="1118" x="140" y="214.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="173" x="155" y="227.5903">get azure access token</text><polygon fill="#181818" points="801,289.0547,811,293.0547,801,297.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="460" x2="807" y1="293.0547" y2="293.0547"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="9" x="469.5" y="272.856">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="630.5" y="257.7231">GET</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="159" x="482.5" y="272.856">${IDENTITY_ENDPOINT}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="641.5" y="272.856">?api-version=2019-08-01</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="521" y="287.9888">&amp;resource=https://storage.azure.com</text><path d="M161,246.6563 L161,290.6563 L450,290.6563 L450,256.6563 L440,246.6563 L161,246.6563 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M440,246.6563 L440,256.6563 L450,256.6563 L440,246.6563 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="167" y="278.856">x-identity-header:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="145" x="284" y="278.856">${IDENTITY_HEADER}</text><line style="stroke:#181818;stroke-width:0.5;" x1="162" x2="283" y1="259.2227" y2="259.2227"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="283" y="263.2231">header</text><line style="stroke:#181818;stroke-width:0.5;" x1="328" x2="449" y1="259.2227" y2="259.2227"/><polygon fill="#181818" points="471,318.1875,461,322.1875,471,326.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="465" x2="812" y1="322.1875" y2="322.1875"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="9" x="585.5" y="317.1216">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="598.5" y="317.1216">HTTP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="630.5" y="317.1216">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="634.5" y="317.1216">200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="658.5" y="317.1216">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="662.5" y="317.1216">(ok)</text><path d="M828,306.0547 L828,441.0547 L1237,441.0547 L1237,316.0547 L1227,306.0547 L828,306.0547 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1227,306.0547 L1227,316.0547 L1237,316.0547 L1227,306.0547 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="834" y="338.2544">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="866" y="353.3872">"token_type": "Bearer",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="866" y="368.52">"expires_on":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="65" x="953" y="368.52">don't care</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1018" y="368.52">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="866" y="383.6528">"client_id": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="65" x="941" y="383.6528">don't care</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="1006" y="383.6528">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="866" y="398.7856">"resource": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="65" x="945" y="398.7856">don't care</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="1010" y="398.7856">"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="866" y="413.9185">"access_token": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="235" x="976" y="413.9185">&lt;access token for storage account&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="1211" y="413.9185">"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="834" y="429.0513">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="829" x2="1017" y1="318.6211" y2="318.6211"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="1017" y="322.6216">body</text><line style="stroke:#181818;stroke-width:0.5;" x1="1048" x2="1236" y1="318.6211" y2="318.6211"/><path d="M221.5,451.1172 L221.5,476.1172 L688.5,476.1172 L688.5,461.1172 L678.5,451.1172 L221.5,451.1172 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><path d="M678.5,451.1172 L678.5,461.1172 L688.5,461.1172 L678.5,451.1172 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="442" x="227.5" y="468.1841">On any failure, return HTTP 500 (server error) with specific error body.</text><path d="M27,499.25 L189,499.25 L189,506.3828 L179,516.3828 L27,516.3828 L27,499.25 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="352.3906" style="stroke:#000000;stroke-width:1.5;" width="1281.5" x="27" y="499.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="117" x="42" y="512.3169">get client id file</text><polygon fill="#181818" points="916.5,558.6484,926.5,562.6484,916.5,566.6484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="460" x2="922.5" y1="562.6484" y2="562.6484"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="9" x="598.25" y="550.0161">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="611.25" y="542.4497">GET</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="636.25" y="542.4497">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="60" x="640.25" y="542.4497">&lt;storage</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="700.25" y="542.4497">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="51" x="704.25" y="542.4497">account</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="755.25" y="542.4497">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="31" x="759.25" y="542.4497">base</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="27" x="612.25" y="557.5825">url&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="639.25" y="557.5825">/clients</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="49" x="684.25" y="557.5825">/&lt;client</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="733.25" y="557.5825">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="22" x="737.25" y="557.5825">id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="759.25" y="557.5825">.json</text><path d="M48,531.3828 L48,590.3828 L450,590.3828 L450,541.3828 L440,531.3828 L48,531.3828 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M440,531.3828 L440,541.3828 L450,541.3828 L440,531.3828 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="54" y="563.5825">x-ms-version: 2019-07-07</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="54" y="578.7153">Authorization: Bearer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="235" x="194" y="578.7153">&lt;access token for storage account&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="49" x2="226.5" y1="543.9492" y2="543.9492"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="226.5" y="547.9497">header</text><line style="stroke:#181818;stroke-width:0.5;" x1="271.5" x2="449" y1="543.9492" y2="543.9492"/><polygon fill="#181818" points="471,612.9141,461,616.9141,471,620.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="465" x2="927.5" y1="616.9141" y2="616.9141"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="9" x="643.25" y="611.8481">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="656.25" y="611.8481">HTTP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="688.25" y="611.8481">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="692.25" y="611.8481">200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="716.25" y="611.8481">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="720.25" y="611.8481">(ok)</text><path d="M943.5,600.7813 L943.5,795.7813 L1287.5,795.7813 L1287.5,610.7813 L1277.5,600.7813 L943.5,600.7813 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1277.5,600.7813 L1277.5,610.7813 L1287.5,610.7813 L1277.5,600.7813 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="949.5" y="632.981">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="981.5" y="648.1138">"id": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="71" x="1015.5" y="648.1138">&lt;client id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="1086.5" y="648.1138">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="981.5" y="663.2466">"channel": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="72" x="1054.5" y="663.2466">&lt;channel&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="1126.5" y="663.2466">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="981.5" y="678.3794">"grantTypes": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="1013.5" y="693.5122">"client_credentials"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="981.5" y="708.645">],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="981.5" y="723.7778">"sub": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="83" x="1027.5" y="723.7778">&lt;subject id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="1110.5" y="723.7778">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="981.5" y="738.9106">"salt": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="45" x="1027.5" y="738.9106">&lt;salt&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="1072.5" y="738.9106">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="981.5" y="754.0435">"secretHash": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="97" x="1077.5" y="754.0435">&lt;secret hash&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="1174.5" y="754.0435">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="981.5" y="769.1763">"secretExp":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="204" x="1062.5" y="769.1763">&lt;secret expiration unix epoch&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="949.5" y="784.3091">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="944.5" x2="1100" y1="613.3477" y2="613.3477"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="1100" y="617.3481">body</text><line style="stroke:#181818;stroke-width:0.5;" x1="1131" x2="1286.5" y1="613.3477" y2="613.3477"/><path d="M173,806.375 L173,846.375 L737,846.375 L737,816.375 L727,806.375 L173,806.375 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><path d="M727,806.375 L727,816.375 L737,816.375 L727,806.375 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="179" y="823.4419">On</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="71" x="201" y="823.4419">&lt;client id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="446" x="276" y="823.4419">file not found, return HTTP 401 (unauthorized) with specific error body.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="480" x="179" y="838.5747">On any other failure, return HTTP 500 (server error) with specific error body.</text><path d="M43,883.6406 L225,883.6406 L225,890.7734 L215,900.7734 L43,900.7734 L43,883.6406 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="181.6641" style="stroke:#000000;stroke-width:1.5;" width="690" x="43" y="883.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="137" x="58" y="896.7075">verify client secret</text><line style="stroke:#181818;stroke-width:1.0;" x1="460" x2="502" y1="931.9063" y2="931.9063"/><line style="stroke:#181818;stroke-width:1.0;" x1="502" x2="502" y1="931.9063" y2="944.9063"/><line style="stroke:#181818;stroke-width:1.0;" x1="461" x2="502" y1="944.9063" y2="944.9063"/><polygon fill="#181818" points="471,940.9063,461,944.9063,471,948.9063" style="stroke:#181818;stroke-width:1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="9" x="467" y="926.8403">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="480" y="926.8403">verify</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="514" y="926.8403">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="518" y="926.8403">secret</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="558" y="926.8403">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="10" x="562" y="926.8403">is</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="572" y="926.8403">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="576" y="926.8403">not</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="597" y="926.8403">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="601" y="926.8403">expired</text><path d="M64,915.7734 L64,940.7734 L450,940.7734 L450,925.7734 L440,915.7734 L64,915.7734 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M440,915.7734 L440,925.7734 L450,925.7734 L440,915.7734 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="204" x="70" y="932.8403">&lt;secret expiration unix epoch&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="278" y="932.8403">&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="142" x="293" y="932.8403">&lt;current unix epoch&gt;</text><path d="M206.5,957.9063 L206.5,982.9063 L703.5,982.9063 L703.5,967.9063 L693.5,957.9063 L206.5,957.9063 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><path d="M693.5,957.9063 L693.5,967.9063 L703.5,967.9063 L693.5,957.9063 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="476" x="212.5" y="974.9731">On secret expired, return HTTP 401 (unauthorized) with specific error body.</text><line style="stroke:#181818;stroke-width:1.0;" x1="460" x2="502" y1="1009.1719" y2="1009.1719"/><line style="stroke:#181818;stroke-width:1.0;" x1="502" x2="502" y1="1009.1719" y2="1022.1719"/><line style="stroke:#181818;stroke-width:1.0;" x1="461" x2="502" y1="1022.1719" y2="1022.1719"/><polygon fill="#181818" points="471,1018.1719,461,1022.1719,471,1026.1719" style="stroke:#181818;stroke-width:1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="9" x="467" y="1004.106">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="480" y="1004.106">verify</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="514" y="1004.106">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="518" y="1004.106">secret</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="558" y="1004.106">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="562" y="1004.106">matching</text><path d="M198,1035.1719 L198,1060.1719 L712,1060.1719 L712,1045.1719 L702,1035.1719 L198,1035.1719 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><path d="M702,1035.1719 L702,1045.1719 L712,1045.1719 L702,1035.1719 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="493" x="204" y="1052.2388">On secret mismatch, return HTTP 401 (unauthorized) with specific error body.</text><path d="M27,1083.3047 L138,1083.3047 L138,1090.4375 L128,1100.4375 L27,1100.4375 L27,1083.3047 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="891.1953" style="stroke:#000000;stroke-width:1.5;" width="1256" x="27" y="1083.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="66" x="42" y="1096.3716">get roles</text><path d="M140,1114.4375 L358,1114.4375 L358,1121.5703 L348,1131.5703 L140,1131.5703 L140,1114.4375 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="266.7266" style="stroke:#000000;stroke-width:1.5;" width="1118" x="140" y="1114.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="173" x="155" y="1127.5044">get azure access token</text><polygon fill="#181818" points="801,1188.9688,811,1192.9688,801,1196.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="460" x2="807" y1="1192.9688" y2="1192.9688"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="9" x="469.5" y="1172.77">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="630.5" y="1157.6372">GET</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="159" x="482.5" y="1172.77">${IDENTITY_ENDPOINT}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="641.5" y="1172.77">?api-version=2019-08-01</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="521" y="1187.9028">&amp;resource=https://storage.azure.com</text><path d="M161,1146.5703 L161,1190.5703 L450,1190.5703 L450,1156.5703 L440,1146.5703 L161,1146.5703 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M440,1146.5703 L440,1156.5703 L450,1156.5703 L440,1146.5703 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="167" y="1178.77">x-identity-header:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="145" x="284" y="1178.77">${IDENTITY_HEADER}</text><line style="stroke:#181818;stroke-width:0.5;" x1="162" x2="283" y1="1159.1367" y2="1159.1367"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="283" y="1163.1372">header</text><line style="stroke:#181818;stroke-width:0.5;" x1="328" x2="449" y1="1159.1367" y2="1159.1367"/><polygon fill="#181818" points="471,1218.1016,461,1222.1016,471,1226.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="465" x2="812" y1="1222.1016" y2="1222.1016"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="9" x="585.5" y="1217.0356">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="598.5" y="1217.0356">HTTP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="630.5" y="1217.0356">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="634.5" y="1217.0356">200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="658.5" y="1217.0356">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="662.5" y="1217.0356">(ok)</text><path d="M828,1205.9688 L828,1340.9688 L1237,1340.9688 L1237,1215.9688 L1227,1205.9688 L828,1205.9688 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1227,1205.9688 L1227,1215.9688 L1237,1215.9688 L1227,1205.9688 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="834" y="1238.1685">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="866" y="1253.3013">"token_type": "Bearer",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="866" y="1268.4341">"expires_on":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="65" x="953" y="1268.4341">don't care</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1018" y="1268.4341">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="866" y="1283.5669">"client_id": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="65" x="941" y="1283.5669">don't care</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="1006" y="1283.5669">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="866" y="1298.6997">"resource": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="65" x="945" y="1298.6997">don't care</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="1010" y="1298.6997">"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="866" y="1313.8325">"access_token": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="235" x="976" y="1313.8325">&lt;access token for storage account&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="1211" y="1313.8325">"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="834" y="1328.9653">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="829" x2="1017" y1="1218.5352" y2="1218.5352"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="1017" y="1222.5356">body</text><line style="stroke:#181818;stroke-width:0.5;" x1="1048" x2="1236" y1="1218.5352" y2="1218.5352"/><path d="M221.5,1351.0313 L221.5,1376.0313 L688.5,1376.0313 L688.5,1361.0313 L678.5,1351.0313 L221.5,1351.0313 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><path d="M678.5,1351.0313 L678.5,1361.0313 L688.5,1361.0313 L678.5,1351.0313 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="442" x="227.5" y="1368.0981">On any failure, return HTTP 500 (server error) with specific error body.</text><path d="M48,1400.1641 L48,1459.1641 L450,1459.1641 L450,1410.1641 L440,1400.1641 L48,1400.1641 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M440,1400.1641 L440,1410.1641 L450,1410.1641 L440,1400.1641 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="54" y="1432.3638">x-ms-version: 2019-07-07</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="54" y="1447.4966">Authorization: Bearer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="235" x="194" y="1447.4966">&lt;access token for storage account&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="49" x2="226.5" y1="1412.7305" y2="1412.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="226.5" y="1416.731">header</text><line style="stroke:#181818;stroke-width:0.5;" x1="271.5" x2="449" y1="1412.7305" y2="1412.7305"/><path d="M439,1468.5625 L503,1468.5625 L503,1475.6953 L493,1485.6953 L439,1485.6953 L439,1468.5625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="326.875" style="stroke:#000000;stroke-width:1.5;" width="566.5" x="439" y="1468.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="454" y="1481.6294">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="518" y="1480.7729">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="67" x="523" y="1480.7729">&lt;channel&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="181" x="594" y="1480.7729">== POS_SERVICE_PROVIDER]</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="439" x2="1005.5" y1="1566.0938" y2="1566.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="444" y="1578.3042">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="67" x="449" y="1578.3042">&lt;channel&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="187" x="520" y="1578.3042">== PUBLIC_ADMINISTRATION]</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="439" x2="1005.5" y1="1656.2969" y2="1656.2969"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="444" y="1668.5073">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="67" x="449" y="1668.5073">&lt;channel&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="49" x="520" y="1668.5073">== MIL]</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="439" x2="1005.5" y1="1731.3672" y2="1731.3672"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="444" y="1743.5776">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="67" x="449" y="1743.5776">&lt;channel&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="75" x="520" y="1743.5776">== SERVER]</text><polygon fill="#181818" points="916.5,1543.0938,926.5,1547.0938,916.5,1551.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="460" x2="922.5" y1="1547.0938" y2="1547.0938"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="566.75" y="1526.895">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="615.75" y="1511.7622">GET</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="640.75" y="1511.7622">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="60" x="644.75" y="1511.7622">&lt;storage</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="704.75" y="1511.7622">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="51" x="708.75" y="1511.7622">account</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="759.75" y="1511.7622">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="31" x="763.75" y="1511.7622">base</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="27" x="588.75" y="1526.895">url&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="615.75" y="1526.895">/pos_service_providers</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="61" x="760.75" y="1526.895">/&lt;service</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="53" x="650.75" y="1542.0278">provider</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="703.75" y="1542.0278">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="22" x="707.75" y="1542.0278">id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="729.75" y="1542.0278">.json</text><polygon fill="#181818" points="916.5,1633.2969,926.5,1637.2969,916.5,1641.2969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="460" x2="922.5" y1="1637.2969" y2="1637.2969"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="568.75" y="1617.0981">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="615.75" y="1601.9653">GET</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="640.75" y="1601.9653">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="60" x="644.75" y="1601.9653">&lt;storage</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="704.75" y="1601.9653">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="51" x="708.75" y="1601.9653">account</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="759.75" y="1601.9653">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="31" x="763.75" y="1601.9653">base</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="27" x="590.75" y="1617.0981">url&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="617.75" y="1617.0981">/public_administrations</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="55" x="764.75" y="1617.0981">/&lt;payee</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="42" x="669.25" y="1632.231">code&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="711.25" y="1632.231">.json</text><polygon fill="#181818" points="916.5,1708.3672,926.5,1712.3672,916.5,1716.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="460" x2="922.5" y1="1712.3672" y2="1712.3672"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="559.75" y="1699.7349">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="615.75" y="1692.1685">GET</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="640.75" y="1692.1685">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="60" x="644.75" y="1692.1685">&lt;storage</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="704.75" y="1692.1685">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="51" x="708.75" y="1692.1685">account</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="759.75" y="1692.1685">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="31" x="763.75" y="1692.1685">base</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="27" x="581.75" y="1707.3013">url&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="608.75" y="1707.3013">/mil_services</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="108" x="690.75" y="1707.3013">/&lt;microservice&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="798.75" y="1707.3013">.json</text><polygon fill="#181818" points="916.5,1783.4375,926.5,1787.4375,916.5,1791.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="460" x2="922.5" y1="1787.4375" y2="1787.4375"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="591.75" y="1774.8052">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="615.75" y="1767.2388">GET</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="640.75" y="1767.2388">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="60" x="644.75" y="1767.2388">&lt;storage</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="704.75" y="1767.2388">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="51" x="708.75" y="1767.2388">account</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="759.75" y="1767.2388">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="31" x="763.75" y="1767.2388">base</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="27" x="613.75" y="1782.3716">url&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="640.75" y="1782.3716">/servers/&lt;client</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="740.75" y="1782.3716">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="744.75" y="1782.3716">id&gt;.json</text><polygon fill="#181818" points="471,1826.5703,461,1830.5703,471,1834.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="465" x2="927.5" y1="1830.5703" y2="1830.5703"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="638.75" y="1825.5044">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="660.75" y="1825.5044">HTTP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="692.75" y="1825.5044">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="696.75" y="1825.5044">200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="720.75" y="1825.5044">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="724.75" y="1825.5044">(ok)</text><path d="M943.5,1814.4375 L943.5,1918.4375 L1141.5,1918.4375 L1141.5,1824.4375 L1131.5,1814.4375 L943.5,1814.4375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1131.5,1814.4375 L1131.5,1824.4375 L1141.5,1824.4375 L1131.5,1814.4375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="949.5" y="1846.6372">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="981.5" y="1861.77">"roles": [</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="107" x="1013.5" y="1876.9028">&lt;array of roles&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="981.5" y="1892.0356">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="949.5" y="1907.1685">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="944.5" x2="1027" y1="1827.0039" y2="1827.0039"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="1027" y="1831.0044">body</text><line style="stroke:#181818;stroke-width:0.5;" x1="1058" x2="1140.5" y1="1827.0039" y2="1827.0039"/><path d="M202.5,1929.2344 L202.5,1969.2344 L707.5,1969.2344 L707.5,1939.2344 L697.5,1929.2344 L202.5,1929.2344 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><path d="M697.5,1929.2344 L697.5,1939.2344 L707.5,1939.2344 L697.5,1929.2344 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="468" x="208.5" y="1946.3013">On file not found, return HTTP 401 (unauthorized) with specific error body.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="480" x="208.5" y="1961.4341">On any other failure, return HTTP 500 (server error) with specific error body.</text><path d="M439,1992.5 L687,1992.5 L687,1999.6328 L677,2009.6328 L439,2009.6328 L439,1992.5 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="202.4609" style="stroke:#000000;stroke-width:1.5;" width="541" x="439" y="1992.5"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="203" x="454" y="2005.5669">build access token payload</text><line style="stroke:#181818;stroke-width:1.0;" x1="460" x2="502" y1="2055.8984" y2="2055.8984"/><line style="stroke:#181818;stroke-width:1.0;" x1="502" x2="502" y1="2055.8984" y2="2068.8984"/><line style="stroke:#181818;stroke-width:1.0;" x1="461" x2="502" y1="2068.8984" y2="2068.8984"/><polygon fill="#181818" points="471,2064.8984,461,2068.8984,471,2072.8984" style="stroke:#181818;stroke-width:1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="467" y="2043.2661">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="489" y="2035.6997">generate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="547" y="2035.6997">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="55" x="551" y="2035.6997">&lt;access</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="606" y="2035.6997">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="36" x="610" y="2035.6997">token</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="62" x="536.5" y="2050.8325">payload&gt;</text><path d="M658,2024.6328 L658,2189.6328 L959,2189.6328 L959,2034.6328 L949,2024.6328 L658,2024.6328 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M949,2024.6328 L949,2034.6328 L959,2034.6328 L949,2024.6328 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="664" y="2056.8325">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="696" y="2071.9653">"sub": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="83" x="742" y="2071.9653">&lt;subject id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="825" y="2071.9653">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="696" y="2087.0981">"aud": "mil.pagopa.it",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="696" y="2102.231">"iss": "https:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="99" x="773" y="2102.231">//&lt;host name&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="872" y="2102.231">/mil-auth",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="696" y="2117.3638">"iat":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="129" x="730" y="2117.3638">&lt;issue unix epoch&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="859" y="2117.3638">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="696" y="2132.4966">"exp":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="160" x="737" y="2132.4966">&lt;expiration unix epoch&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="897" y="2132.4966">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="696" y="2147.6294">"channel": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="72" x="769" y="2147.6294">&lt;channel&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="841" y="2147.6294">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="696" y="2162.7622">"groups": [</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="107" x="767" y="2162.7622">&lt;array of roles&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="878" y="2162.7622">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="664" y="2177.895">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="659" x2="728" y1="2037.1992" y2="2037.1992"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="161" x="728" y="2041.1997">&lt;access token payload&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="889" x2="958" y1="2037.1992" y2="2037.1992"/><path d="M243.5,2212.9609 L487.5,2212.9609 L487.5,2220.0938 L477.5,2230.0938 L243.5,2230.0938 L243.5,2212.9609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="60.2656" style="stroke:#000000;stroke-width:1.5;" width="855" x="243.5" y="2212.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="199" x="258.5" y="2226.0278">retrieve key to sign tokens</text><polygon fill="#90EE90" points="279,2245.0938,1072,2245.0938,1082,2256.0938,1072,2268.0938,279,2268.0938,269,2256.0938,279,2245.0938" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="295" x="528" y="2261.1606">See MAIN__retrieve_key_to_sign_tokens.puml</text><path d="M134,2291.2266 L328,2291.2266 L328,2298.3594 L318,2308.3594 L134,2308.3594 L134,2291.2266 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="126.7969" style="stroke:#000000;stroke-width:1.5;" width="547" x="134" y="2291.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="149" x="149" y="2304.2935">build tokens header</text><line style="stroke:#181818;stroke-width:1.0;" x1="460" x2="502" y1="2339.4922" y2="2339.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="502" x2="502" y1="2339.4922" y2="2352.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="461" x2="502" y1="2352.4922" y2="2352.4922"/><polygon fill="#181818" points="471,2348.4922,461,2352.4922,471,2356.4922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="467" y="2334.4263">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="489" y="2334.4263">generate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="547" y="2334.4263">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="47" x="551" y="2334.4263">&lt;token</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="598" y="2334.4263">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="56" x="602" y="2334.4263">header&gt;</text><path d="M155,2323.3594 L155,2412.3594 L450,2412.3594 L450,2333.3594 L440,2323.3594 L155,2323.3594 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M440,2323.3594 L440,2333.3594 L450,2333.3594 L440,2323.3594 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="161" y="2355.5591">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="193" y="2370.6919">"kid": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="86" x="234" y="2370.6919">&lt;key name&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="100" x="320" y="2370.6919">/&lt;key version&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="420" y="2370.6919">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="193" y="2385.8247">"alg": "RS256"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="161" y="2400.9575">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="156" x2="249" y1="2335.9258" y2="2335.9258"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="107" x="249" y="2339.9263">&lt;token header&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="356" x2="449" y1="2335.9258" y2="2335.9258"/><path d="M72,2436.0234 L250,2436.0234 L250,2443.1563 L240,2453.1563 L72,2453.1563 L72,2436.0234 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="471.1875" style="stroke:#000000;stroke-width:1.5;" width="1468" x="72" y="2436.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="133" x="87" y="2449.0903">sign access token</text><line style="stroke:#181818;stroke-width:1.0;" x1="460" x2="502" y1="2499.4219" y2="2499.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="502" x2="502" y1="2499.4219" y2="2512.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="461" x2="502" y1="2512.4219" y2="2512.4219"/><polygon fill="#181818" points="471,2508.4219,461,2512.4219,471,2516.4219" style="stroke:#181818;stroke-width:1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="467" y="2486.7896">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="489" y="2479.2231">generate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="547" y="2479.2231">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="47" x="551" y="2479.2231">&lt;string</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="598" y="2479.2231">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="13" x="602" y="2479.2231">to</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="615" y="2479.2231">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="26" x="619" y="2479.2231">sign</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="645" y="2479.2231">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="17" x="649" y="2479.2231">for</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="44" x="530" y="2494.356">access</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="574" y="2494.356">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="47" x="578" y="2494.356">token&gt;</text><path d="M93,2468.1563 L93,2633.1563 L450,2633.1563 L450,2478.1563 L440,2468.1563 L93,2468.1563 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M440,2468.1563 L440,2478.1563 L450,2478.1563 L440,2468.1563 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="99" y="2500.356">base64url(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="131" y="2515.4888">sha256(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="163" y="2530.6216">utf8(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="195" y="2545.7544">base64url(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="107" x="263" y="2545.7544">&lt;token header&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="370" y="2545.7544">) +</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="195" y="2560.8872">"." +</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="195" y="2576.02">base64url(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="161" x="263" y="2576.02">&lt;access token payload&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="424" y="2576.02">)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="163" y="2591.1528">)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="131" y="2606.2856">)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="99" y="2621.4185">)</text><line style="stroke:#181818;stroke-width:0.5;" x1="94" x2="164.5" y1="2480.7227" y2="2480.7227"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="214" x="164.5" y="2484.7231">&lt;string to sign for access token&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="378.5" x2="449" y1="2480.7227" y2="2480.7227"/><polygon fill="#181818" points="1024,2685.8828,1034,2689.8828,1024,2693.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="460" x2="1030" y1="2689.8828" y2="2689.8828"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="639" y="2669.6841">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="668.5" y="2654.5513">POST</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="702.5" y="2654.5513">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="706.5" y="2654.5513">POST</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="740.5" y="2654.5513">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="34" x="744.5" y="2654.5513">&lt;key</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="778.5" y="2654.5513">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="32" x="782.5" y="2654.5513">vault</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="814.5" y="2654.5513">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="31" x="818.5" y="2654.5513">base</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="27" x="665" y="2669.6841">url&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="692" y="2669.6841">/keys</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="38" x="725" y="2669.6841">/&lt;key</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="763" y="2669.6841">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="48" x="767" y="2669.6841">name&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="38" x="815" y="2669.6841">/&lt;key</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="58" x="661" y="2684.8169">version&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="719" y="2684.8169">/sign?api-version=7.4</text><path d="M93,2643.4844 L93,2766.4844 L450,2766.4844 L450,2653.4844 L440,2643.4844 L93,2643.4844 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M440,2643.4844 L440,2653.4844 L450,2653.4844 L440,2643.4844 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="99" y="2675.6841">Authorization: Bearer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="190" x="239" y="2675.6841">&lt;access token for key vault&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="94" x2="249" y1="2656.0508" y2="2656.0508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="249" y="2660.0513">header</text><line style="stroke:#181818;stroke-width:0.5;" x1="294" x2="449" y1="2656.0508" y2="2656.0508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="99" y="2709.9497">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="131" y="2725.0825">"alg": "RS256",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="131" y="2740.2153">"value": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="214" x="188" y="2740.2153">&lt;string to sign for access token&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="402" y="2740.2153">"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="99" y="2755.3481">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="94" x2="256" y1="2690.3164" y2="2690.3164"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="256" y="2694.3169">body</text><line style="stroke:#181818;stroke-width:0.5;" x1="287" x2="449" y1="2690.3164" y2="2690.3164"/><polygon fill="#181818" points="471,2789.5469,461,2793.5469,471,2797.5469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="465" x2="1035" y1="2793.5469" y2="2793.5469"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="692.5" y="2788.481">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="714.5" y="2788.481">HTTP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="746.5" y="2788.481">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="750.5" y="2788.481">200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="774.5" y="2788.481">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="778.5" y="2788.481">(ok)</text><path d="M1051,2777.4141 L1051,2866.4141 L1519,2866.4141 L1519,2787.4141 L1509,2777.4141 L1051,2777.4141 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1509,2777.4141 L1509,2787.4141 L1519,2787.4141 L1509,2777.4141 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1057" y="2809.6138">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="1089" y="2824.7466">"kid": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="136" x="1130" y="2824.7466">&lt;key vault base url&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="1266" y="2824.7466">/keys</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="90" x="1299" y="2824.7466">/&lt;key name&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="100" x="1389" y="2824.7466">/&lt;key version&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="1489" y="2824.7466">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="1089" y="2839.8794">"value": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="253" x="1146" y="2839.8794">&lt;base64url of access token signature&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="1399" y="2839.8794">"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1057" y="2855.0122">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="1052" x2="1269.5" y1="2789.9805" y2="2789.9805"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="1269.5" y="2793.981">body</text><line style="stroke:#181818;stroke-width:0.5;" x1="1300.5" x2="1518" y1="2789.9805" y2="2789.9805"/><path d="M221.5,2877.0781 L221.5,2902.0781 L688.5,2902.0781 L688.5,2887.0781 L678.5,2877.0781 L221.5,2877.0781 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><path d="M678.5,2877.0781 L678.5,2887.0781 L688.5,2887.0781 L678.5,2877.0781 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="442" x="227.5" y="2894.145">On any failure, return HTTP 500 (server error) with specific error body.</text><line style="stroke:#181818;stroke-width:1.0;" x1="460" x2="502" y1="3002.875" y2="3002.875"/><line style="stroke:#181818;stroke-width:1.0;" x1="502" x2="502" y1="3002.875" y2="3015.875"/><line style="stroke:#181818;stroke-width:1.0;" x1="461" x2="502" y1="3015.875" y2="3015.875"/><polygon fill="#181818" points="471,3011.875,461,3015.875,471,3019.875" style="stroke:#181818;stroke-width:1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="467" y="2967.5435">20</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="55" x="528.5" y="2937.2778">&lt;access</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="583.5" y="2937.2778">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="47" x="587.5" y="2937.2778">token&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="634.5" y="2937.2778">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="638.5" y="2937.2778">=</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="491.5" y="2952.4106">base64url(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="47" x="559.5" y="2952.4106">&lt;token</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="606.5" y="2952.4106">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="56" x="610.5" y="2952.4106">header&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="666.5" y="2952.4106">)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="671.5" y="2952.4106">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="675.5" y="2952.4106">+</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="489" y="2967.5435">"."</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="503" y="2967.5435">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="507" y="2967.5435">+</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="518" y="2967.5435">&#160;&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="526" y="2967.5435">base64url(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="55" x="594" y="2967.5435">&lt;access</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="649" y="2967.5435">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="36" x="653" y="2967.5435">token</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="62" x="492.5" y="2982.6763">payload&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="554.5" y="2982.6763">)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="559.5" y="2982.6763">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="563.5" y="2982.6763">+</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="574.5" y="2982.6763">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="578.5" y="2982.6763">"."</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="592.5" y="2982.6763">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="596.5" y="2982.6763">+</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="607.5" y="2982.6763">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="74" x="611.5" y="2982.6763">&lt;base64url</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="12" x="501.5" y="2997.8091">of</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="513.5" y="2997.8091">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="44" x="517.5" y="2997.8091">access</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="561.5" y="2997.8091">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="36" x="565.5" y="2997.8091">token</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="601.5" y="2997.8091">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="71" x="605.5" y="2997.8091">signature&gt;</text><polygon fill="#181818" points="326,3041.0078,316,3045.0078,326,3049.0078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="320" x2="449" y1="3045.0078" y2="3045.0078"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="327" y="3039.9419">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="349" y="3039.9419">HTTP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="381" y="3039.9419">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="385" y="3039.9419">200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="409" y="3039.9419">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="413" y="3039.9419">(ok)</text><path d="M465,3028.875 L465,3128.875 L763,3128.875 L763,3038.875 L753,3028.875 L465,3028.875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M753,3028.875 L753,3038.875 L763,3038.875 L753,3028.875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="471" y="3045.9419">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="503" y="3061.0747">"access_token": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="106" x="613" y="3061.0747">&lt;access token&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="719" y="3061.0747">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="503" y="3076.2075">"refresh_token": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="107" x="614" y="3076.2075">&lt;refresh token&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="721" y="3076.2075">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="503" y="3091.3403">"token_type": "Bearer",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="503" y="3106.4731">"expires_in":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="163" x="585" y="3106.4731">&lt;access token duration&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="471" y="3121.606">}</text><!--SRC=[NP71JWCX48RForDCzs0qjQNnsDWUFEd9Hdid5APTKXOgiCR6-ExEmchQFH3uPpw6-OU9SSfs6aKhtHdcSwvysth7uz6u-QbhBPjS4L8b7sB9C1BcKoO4dneCZEKDPcjeZHMoImrCfx24pUlx5dZoHtIiSfvuY_l4gag81gN680I9D_peCAONlGJE7qDHOFIQyupkl3vdy12aIoATJxXIrY2TLK1Dkv4stX0mH8rUKQ4YIfsBP4Iwb2w04iYFeTFGjyb6tdUTiLfa7tyJ-3Sw8zU3_HbPVjvkD_2mMC2jFzuDfeCvDBthRrfLBPN264krUWarTL92a4FKI7sVmO3xWB6v8eVO6CqoJwRddb0634CAlqw6hWZJbnYz1ReBCXdlogX_BYUWyVgJVm40]--></g></svg>