<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="3832px" preserveAspectRatio="none" style="width:1565px;height:3832px;background:#FFFFFF;" version="1.1" viewBox="0 0 1565 3832" width="1565px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="329" x2="329" y1="52.5938" y2="3825.5078"/><rect fill="#1E90FF" height="3759.9141" style="stroke:#181818;stroke-width:1.0;" width="10" x="324" y="60.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="474" x2="474" y1="52.5938" y2="3825.5078"/><rect fill="#1E90FF" height="3644.1172" style="stroke:#181818;stroke-width:1.0;" width="10" x="469" y="81.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="837" x2="837" y1="52.5938" y2="3825.5078"/><rect fill="#1E90FF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="832" y="372.7188"/><rect fill="#1E90FF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="832" y="1334.7656"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="952.5" x2="952.5" y1="52.5938" y2="3825.5078"/><rect fill="#1E90FF" height="54.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="947.5" y="642.3125"/><rect fill="#1E90FF" height="39.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="947.5" y="1588.3594"/><rect fill="#1E90FF" height="39.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="947.5" y="1838.8203"/><rect fill="#1E90FF" height="54.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="947.5" y="2074.1484"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1060" x2="1060" y1="52.5938" y2="3825.5078"/><rect fill="#1E90FF" height="103.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1055" y="3370.7188"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1166.5" x2="1166.5" y1="52.5938" y2="3825.5078"/><rect fill="#1E90FF" height="118.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="1161.5" y="2397.7422"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84" x="287" y="21.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="294" y="41.292">ATM Layer</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69" x="439.5" y="21.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="446.5" y="41.292">mil-auth</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="787.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="794.5" y="24.9951">Azure Active</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="806" y="41.292">Directory</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="896.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="903.5" y="24.9951">Azure Storage</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="924" y="41.292">Account</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="1018.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="1025.5" y="24.9951">Azure Key</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="1043" y="41.292">Vault</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110" x="1111.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="1118.5" y="24.9951">Personal Data</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="1149.5" y="41.292">Vault</text><polygon fill="#181818" points="457,77.7266,467,81.7266,457,85.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="334" x2="463" y1="81.7266" y2="81.7266"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="9" x="356" y="76.6606">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="369" y="76.6606">POST</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="403" y="76.6606">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="407" y="76.6606">/token</text><path d="M94,65.5938 L94,253.5938 L324,253.5938 L324,75.5938 L314,65.5938 L94,65.5938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M314,65.5938 L314,75.5938 L324,75.5938 L314,65.5938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="100" y="97.7935">RequestId:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="86" x="171" y="97.7935">&lt;request id&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="95" x2="186.5" y1="78.1602" y2="78.1602"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="186.5" y="82.1606">header</text><line style="stroke:#181818;stroke-width:0.5;" x1="231.5" x2="323" y1="78.1602" y2="78.1602"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="100" y="132.0591">grant_type=client_credentials&amp;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="100" y="147.1919">client_id=</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="71" x="163" y="147.1919">&lt;client id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="234" y="147.1919">&amp;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="100" y="162.3247">client_secret=</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="100" x="192" y="162.3247">&lt;client secret&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="292" y="162.3247">&amp;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="100" y="177.4575">bank_id=</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="68" x="160" y="177.4575">&lt;bank id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="228" y="177.4575">&amp;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="100" y="192.5903">terminal_id=</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="90" x="182" y="192.5903">&lt;terminal id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="272" y="192.5903">&amp;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="100" y="207.7231">user_code=</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="85" x="177" y="207.7231">&lt;user code&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="95" x2="193.5" y1="112.4258" y2="112.4258"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="193.5" y="116.4263">body</text><line style="stroke:#181818;stroke-width:0.5;" x1="224.5" x2="323" y1="112.4258" y2="112.4258"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="100" y="241.9888">It's optional.</text><line style="stroke:#181818;stroke-width:0.5;" x1="95" x2="166.5" y1="222.3555" y2="222.3555"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="85" x="166.5" y="226.356">&lt;user code&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="251.5" x2="323" y1="222.3555" y2="222.3555"/><path d="M27,263.0547 L177,263.0547 L177,270.1875 L167,280.1875 L27,280.1875 L27,263.0547 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="744.3828" style="stroke:#000000;stroke-width:1.5;" width="1325.5" x="27" y="263.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="105" x="42" y="276.1216">verify client id</text><path d="M159,294.1875 L377,294.1875 L377,301.3203 L367,311.3203 L159,311.3203 L159,294.1875 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="266.7266" style="stroke:#000000;stroke-width:1.5;" width="1118" x="159" y="294.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="173" x="174" y="307.2544">get azure access token</text><polygon fill="#181818" points="820,368.7188,830,372.7188,820,376.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="826" y1="372.7188" y2="372.7188"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="9" x="488.5" y="352.52">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="649.5" y="337.3872">GET</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="159" x="501.5" y="352.52">${IDENTITY_ENDPOINT}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="660.5" y="352.52">?api-version=2019-08-01</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="540" y="367.6528">&amp;resource=https://storage.azure.com</text><path d="M180,326.3203 L180,370.3203 L469,370.3203 L469,336.3203 L459,326.3203 L180,326.3203 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M459,326.3203 L459,336.3203 L469,336.3203 L459,326.3203 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="186" y="358.52">x-identity-header:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="145" x="303" y="358.52">${IDENTITY_HEADER}</text><line style="stroke:#181818;stroke-width:0.5;" x1="181" x2="302" y1="338.8867" y2="338.8867"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="302" y="342.8872">header</text><line style="stroke:#181818;stroke-width:0.5;" x1="347" x2="468" y1="338.8867" y2="338.8867"/><polygon fill="#181818" points="490,397.8516,480,401.8516,490,405.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="484" x2="831" y1="401.8516" y2="401.8516"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="9" x="604.5" y="396.7856">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="617.5" y="396.7856">HTTP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="649.5" y="396.7856">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="653.5" y="396.7856">200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="677.5" y="396.7856">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="681.5" y="396.7856">(ok)</text><path d="M847,385.7188 L847,520.7188 L1256,520.7188 L1256,395.7188 L1246,385.7188 L847,385.7188 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1246,385.7188 L1246,395.7188 L1256,395.7188 L1246,385.7188 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="853" y="417.9185">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="885" y="433.0513">"token_type": "Bearer",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="885" y="448.1841">"expires_on":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="65" x="972" y="448.1841">don't care</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1037" y="448.1841">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="885" y="463.3169">"client_id": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="65" x="960" y="463.3169">don't care</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="1025" y="463.3169">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="885" y="478.4497">"resource": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="65" x="964" y="478.4497">don't care</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="1029" y="478.4497">"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="885" y="493.5825">"access_token": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="235" x="995" y="493.5825">&lt;access token for storage account&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="1230" y="493.5825">"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="853" y="508.7153">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="848" x2="1036" y1="398.2852" y2="398.2852"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="1036" y="402.2856">body</text><line style="stroke:#181818;stroke-width:0.5;" x1="1067" x2="1255" y1="398.2852" y2="398.2852"/><path d="M240.5,530.7813 L240.5,555.7813 L707.5,555.7813 L707.5,540.7813 L697.5,530.7813 L240.5,530.7813 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><path d="M697.5,530.7813 L697.5,540.7813 L707.5,540.7813 L697.5,530.7813 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="442" x="246.5" y="547.8481">On any failure, return HTTP 500 (server error) with specific error body.</text><path d="M46,578.9141 L208,578.9141 L208,586.0469 L198,596.0469 L46,596.0469 L46,578.9141 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="337.2578" style="stroke:#000000;stroke-width:1.5;" width="1281.5" x="46" y="578.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="117" x="61" y="591.981">get client id file</text><polygon fill="#181818" points="935.5,638.3125,945.5,642.3125,935.5,646.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="941.5" y1="642.3125" y2="642.3125"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="9" x="617.25" y="629.6802">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="630.25" y="622.1138">GET</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="655.25" y="622.1138">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="60" x="659.25" y="622.1138">&lt;storage</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="719.25" y="622.1138">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="51" x="723.25" y="622.1138">account</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="774.25" y="622.1138">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="31" x="778.25" y="622.1138">base</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="27" x="631.25" y="637.2466">url&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="658.25" y="637.2466">/clients</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="49" x="703.25" y="637.2466">/&lt;client</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="752.25" y="637.2466">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="22" x="756.25" y="637.2466">id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="778.25" y="637.2466">.json</text><path d="M67,611.0469 L67,670.0469 L469,670.0469 L469,621.0469 L459,611.0469 L67,611.0469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M459,611.0469 L459,621.0469 L469,621.0469 L459,611.0469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="73" y="643.2466">x-ms-version: 2019-07-07</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="73" y="658.3794">Authorization: Bearer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="235" x="213" y="658.3794">&lt;access token for storage account&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="68" x2="245.5" y1="623.6133" y2="623.6133"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="245.5" y="627.6138">header</text><line style="stroke:#181818;stroke-width:0.5;" x1="290.5" x2="468" y1="623.6133" y2="623.6133"/><polygon fill="#181818" points="490,692.5781,480,696.5781,490,700.5781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="484" x2="946.5" y1="696.5781" y2="696.5781"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="9" x="662.25" y="691.5122">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="675.25" y="691.5122">HTTP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="707.25" y="691.5122">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="711.25" y="691.5122">200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="735.25" y="691.5122">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="739.25" y="691.5122">(ok)</text><path d="M962.5,680.4453 L962.5,860.4453 L1306.5,860.4453 L1306.5,690.4453 L1296.5,680.4453 L962.5,680.4453 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1296.5,680.4453 L1296.5,690.4453 L1306.5,690.4453 L1296.5,680.4453 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="968.5" y="712.645">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="1000.5" y="727.7778">"id": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="71" x="1034.5" y="727.7778">&lt;client id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="1105.5" y="727.7778">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="1000.5" y="742.9106">"channel": "ATM",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="1000.5" y="758.0435">"grantTypes": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121" x="1032.5" y="773.1763">"client_credentials"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="1000.5" y="788.3091">],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="1000.5" y="803.4419">"salt": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="45" x="1046.5" y="803.4419">&lt;salt&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="1091.5" y="803.4419">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="1000.5" y="818.5747">"secretHash": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="97" x="1096.5" y="818.5747">&lt;secret hash&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="1193.5" y="818.5747">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="1000.5" y="833.7075">"secretExp":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="204" x="1081.5" y="833.7075">&lt;secret expiration unix epoch&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="968.5" y="848.8403">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="963.5" x2="1119" y1="693.0117" y2="693.0117"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="1119" y="697.0122">body</text><line style="stroke:#181818;stroke-width:0.5;" x1="1150" x2="1305.5" y1="693.0117" y2="693.0117"/><path d="M192,870.9063 L192,910.9063 L756,910.9063 L756,880.9063 L746,870.9063 L192,870.9063 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><path d="M746,870.9063 L746,880.9063 L756,880.9063 L746,870.9063 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="198" y="887.9731">On</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="71" x="220" y="887.9731">&lt;client id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="446" x="295" y="887.9731">file not found, return HTTP 401 (unauthorized) with specific error body.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="480" x="198" y="903.106">On any other failure, return HTTP 500 (server error) with specific error body.</text><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="521" y1="951.3047" y2="951.3047"/><line style="stroke:#181818;stroke-width:1.0;" x1="521" x2="521" y1="951.3047" y2="964.3047"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="521" y1="964.3047" y2="964.3047"/><polygon fill="#181818" points="490,960.3047,480,964.3047,490,968.3047" style="stroke:#181818;stroke-width:1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="9" x="486" y="946.2388">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="499" y="946.2388">verify</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="533" y="946.2388">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="537" y="946.2388">channel</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="587" y="946.2388">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="591" y="946.2388">and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="615" y="946.2388">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="619" y="946.2388">grant</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="653" y="946.2388">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="657" y="946.2388">types</text><path d="M168.5,977.3047 L168.5,1002.3047 L779.5,1002.3047 L779.5,987.3047 L769.5,977.3047 L168.5,977.3047 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><path d="M769.5,977.3047 L769.5,987.3047 L779.5,987.3047 L769.5,977.3047 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="590" x="174.5" y="994.3716">On channel or grant type mismatch, return HTTP 401 (unauthorized) with specific error body.</text><path d="M62,1025.4375 L244,1025.4375 L244,1032.5703 L234,1042.5703 L62,1042.5703 L62,1025.4375 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="181.6641" style="stroke:#000000;stroke-width:1.5;" width="690" x="62" y="1025.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="137" x="77" y="1038.5044">verify client secret</text><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="521" y1="1073.7031" y2="1073.7031"/><line style="stroke:#181818;stroke-width:1.0;" x1="521" x2="521" y1="1073.7031" y2="1086.7031"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="521" y1="1086.7031" y2="1086.7031"/><polygon fill="#181818" points="490,1082.7031,480,1086.7031,490,1090.7031" style="stroke:#181818;stroke-width:1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="9" x="486" y="1068.6372">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="499" y="1068.6372">verify</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="533" y="1068.6372">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="537" y="1068.6372">secret</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="577" y="1068.6372">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="10" x="581" y="1068.6372">is</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="591" y="1068.6372">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="595" y="1068.6372">not</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="616" y="1068.6372">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="620" y="1068.6372">expired</text><path d="M83,1057.5703 L83,1082.5703 L469,1082.5703 L469,1067.5703 L459,1057.5703 L83,1057.5703 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M459,1057.5703 L459,1067.5703 L469,1067.5703 L459,1057.5703 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="204" x="89" y="1074.6372">&lt;secret expiration unix epoch&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="297" y="1074.6372">&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="142" x="312" y="1074.6372">&lt;current unix epoch&gt;</text><path d="M225.5,1099.7031 L225.5,1124.7031 L722.5,1124.7031 L722.5,1109.7031 L712.5,1099.7031 L225.5,1099.7031 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><path d="M712.5,1099.7031 L712.5,1109.7031 L722.5,1109.7031 L712.5,1099.7031 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="476" x="231.5" y="1116.77">On secret expired, return HTTP 401 (unauthorized) with specific error body.</text><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="521" y1="1150.9688" y2="1150.9688"/><line style="stroke:#181818;stroke-width:1.0;" x1="521" x2="521" y1="1150.9688" y2="1163.9688"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="521" y1="1163.9688" y2="1163.9688"/><polygon fill="#181818" points="490,1159.9688,480,1163.9688,490,1167.9688" style="stroke:#181818;stroke-width:1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="9" x="486" y="1145.9028">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="499" y="1145.9028">verify</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="533" y="1145.9028">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="537" y="1145.9028">secret</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="577" y="1145.9028">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="581" y="1145.9028">matching</text><path d="M217,1176.9688 L217,1201.9688 L731,1201.9688 L731,1186.9688 L721,1176.9688 L217,1176.9688 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><path d="M721,1176.9688 L721,1186.9688 L731,1186.9688 L721,1176.9688 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="493" x="223" y="1194.0356">On secret mismatch, return HTTP 401 (unauthorized) with specific error body.</text><path d="M8,1225.1016 L119,1225.1016 L119,1232.2344 L109,1242.2344 L8,1242.2344 L8,1225.1016 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1075.2422" style="stroke:#000000;stroke-width:1.5;" width="1294" x="8" y="1225.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="66" x="23" y="1238.1685">get roles</text><path d="M159,1256.2344 L377,1256.2344 L377,1263.3672 L367,1273.3672 L159,1273.3672 L159,1256.2344 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="266.7266" style="stroke:#000000;stroke-width:1.5;" width="1118" x="159" y="1256.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="173" x="174" y="1269.3013">get azure access token</text><polygon fill="#181818" points="820,1330.7656,830,1334.7656,820,1338.7656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="826" y1="1334.7656" y2="1334.7656"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="9" x="488.5" y="1314.5669">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="649.5" y="1299.4341">GET</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="159" x="501.5" y="1314.5669">${IDENTITY_ENDPOINT}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="660.5" y="1314.5669">?api-version=2019-08-01</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="540" y="1329.6997">&amp;resource=https://storage.azure.com</text><path d="M180,1288.3672 L180,1332.3672 L469,1332.3672 L469,1298.3672 L459,1288.3672 L180,1288.3672 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M459,1288.3672 L459,1298.3672 L469,1298.3672 L459,1288.3672 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="186" y="1320.5669">x-identity-header:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="145" x="303" y="1320.5669">${IDENTITY_HEADER}</text><line style="stroke:#181818;stroke-width:0.5;" x1="181" x2="302" y1="1300.9336" y2="1300.9336"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="302" y="1304.9341">header</text><line style="stroke:#181818;stroke-width:0.5;" x1="347" x2="468" y1="1300.9336" y2="1300.9336"/><polygon fill="#181818" points="490,1359.8984,480,1363.8984,490,1367.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="484" x2="831" y1="1363.8984" y2="1363.8984"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="600" y="1358.8325">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="622" y="1358.8325">HTTP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="654" y="1358.8325">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="658" y="1358.8325">200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="682" y="1358.8325">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="686" y="1358.8325">(ok)</text><path d="M847,1347.7656 L847,1482.7656 L1256,1482.7656 L1256,1357.7656 L1246,1347.7656 L847,1347.7656 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1246,1347.7656 L1246,1357.7656 L1256,1357.7656 L1246,1347.7656 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="853" y="1379.9653">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="885" y="1395.0981">"token_type": "Bearer",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="885" y="1410.231">"expires_on":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="65" x="972" y="1410.231">don't care</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1037" y="1410.231">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="885" y="1425.3638">"client_id": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="65" x="960" y="1425.3638">don't care</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="1025" y="1425.3638">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="885" y="1440.4966">"resource": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="65" x="964" y="1440.4966">don't care</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="1029" y="1440.4966">"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="885" y="1455.6294">"access_token": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="235" x="995" y="1455.6294">&lt;access token for storage account&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="1230" y="1455.6294">"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="853" y="1470.7622">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="848" x2="1036" y1="1360.332" y2="1360.332"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="1036" y="1364.3325">body</text><line style="stroke:#181818;stroke-width:0.5;" x1="1067" x2="1255" y1="1360.332" y2="1360.332"/><path d="M240.5,1492.8281 L240.5,1517.8281 L707.5,1517.8281 L707.5,1502.8281 L697.5,1492.8281 L240.5,1492.8281 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><path d="M697.5,1492.8281 L697.5,1502.8281 L707.5,1502.8281 L697.5,1492.8281 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="442" x="246.5" y="1509.895">On any failure, return HTTP 500 (server error) with specific error body.</text><polygon fill="#181818" points="935.5,1584.3594,945.5,1588.3594,935.5,1592.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="941.5" y1="1588.3594" y2="1588.3594"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="611.75" y="1568.1606">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="634.75" y="1553.0278">GET</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="659.75" y="1553.0278">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="60" x="663.75" y="1553.0278">&lt;storage</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="723.75" y="1553.0278">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="51" x="727.75" y="1553.0278">account</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="778.75" y="1553.0278">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="31" x="782.75" y="1553.0278">base</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="27" x="669.25" y="1568.1606">url&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="696.25" y="1568.1606">/atms</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="46" x="733.25" y="1568.1606">/&lt;bank</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="22" x="633.75" y="1583.2935">id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="68" x="655.75" y="1583.2935">/&lt;terminal</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="723.75" y="1583.2935">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="22" x="727.75" y="1583.2935">id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="749.75" y="1583.2935">/roles.json</text><path d="M67,1541.9609 L67,1600.9609 L469,1600.9609 L469,1551.9609 L459,1541.9609 L67,1541.9609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M459,1541.9609 L459,1551.9609 L469,1551.9609 L459,1541.9609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="73" y="1574.1606">x-ms-version: 2019-07-07</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="73" y="1589.2935">Authorization: Bearer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="235" x="213" y="1589.2935">&lt;access token for storage account&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="68" x2="245.5" y1="1554.5273" y2="1554.5273"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="245.5" y="1558.5278">header</text><line style="stroke:#181818;stroke-width:0.5;" x1="290.5" x2="468" y1="1554.5273" y2="1554.5273"/><polygon fill="#181818" points="490,1623.4922,480,1627.4922,490,1631.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="484" x2="946.5" y1="1627.4922" y2="1627.4922"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="657.75" y="1622.4263">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="679.75" y="1622.4263">HTTP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="711.75" y="1622.4263">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="715.75" y="1622.4263">200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="739.75" y="1622.4263">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="743.75" y="1622.4263">(ok)</text><path d="M962.5,1611.3594 L962.5,1715.3594 L1160.5,1715.3594 L1160.5,1621.3594 L1150.5,1611.3594 L962.5,1611.3594 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1150.5,1611.3594 L1150.5,1621.3594 L1160.5,1621.3594 L1150.5,1611.3594 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="968.5" y="1643.5591">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="1000.5" y="1658.6919">"roles": [</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="107" x="1032.5" y="1673.8247">&lt;array of roles&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="1000.5" y="1688.9575">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="968.5" y="1704.0903">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="963.5" x2="1046" y1="1623.9258" y2="1623.9258"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="1046" y="1627.9263">body</text><line style="stroke:#181818;stroke-width:0.5;" x1="1077" x2="1159.5" y1="1623.9258" y2="1623.9258"/><path d="M221.5,1726.1563 L221.5,1751.1563 L726.5,1751.1563 L726.5,1736.1563 L716.5,1726.1563 L221.5,1726.1563 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><path d="M716.5,1726.1563 L716.5,1736.1563 L726.5,1736.1563 L716.5,1726.1563 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="480" x="227.5" y="1743.2231">On any other failure, return HTTP 500 (server error) with specific error body.</text><path d="M27,1760.2891 L97,1760.2891 L97,1767.4219 L87,1777.4219 L27,1777.4219 L27,1760.2891 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="526.0547" style="stroke:#000000;stroke-width:1.5;" width="1179.5" x="27" y="1760.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="42" y="1773.356">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="40" x="112" y="1772.4995">[/atms</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="68" x="152" y="1772.4995">/&lt;bank id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="90" x="220" y="1772.4995">/&lt;terminal id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="138" x="310" y="1772.4995">/roles.json not found]</text><polygon fill="#181818" points="935.5,1834.8203,945.5,1838.8203,935.5,1842.8203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="941.5" y1="1838.8203" y2="1838.8203"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="612.75" y="1818.6216">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="634.75" y="1803.4888">GET</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="659.75" y="1803.4888">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="60" x="663.75" y="1803.4888">&lt;storage</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="723.75" y="1803.4888">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="51" x="727.75" y="1803.4888">account</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="778.75" y="1803.4888">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="31" x="782.75" y="1803.4888">base</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="27" x="669.25" y="1818.6216">url&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="696.25" y="1818.6216">/atms</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="46" x="733.25" y="1818.6216">/&lt;bank</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="22" x="680.75" y="1833.7544">id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="702.75" y="1833.7544">/roles.json</text><path d="M67,1792.4219 L67,1851.4219 L469,1851.4219 L469,1802.4219 L459,1792.4219 L67,1792.4219 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M459,1792.4219 L459,1802.4219 L469,1802.4219 L459,1792.4219 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="73" y="1824.6216">x-ms-version: 2019-07-07</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="73" y="1839.7544">Authorization: Bearer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="235" x="213" y="1839.7544">&lt;access token for storage account&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="68" x2="245.5" y1="1804.9883" y2="1804.9883"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="245.5" y="1808.9888">header</text><line style="stroke:#181818;stroke-width:0.5;" x1="290.5" x2="468" y1="1804.9883" y2="1804.9883"/><polygon fill="#181818" points="490,1873.9531,480,1877.9531,490,1881.9531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="484" x2="946.5" y1="1877.9531" y2="1877.9531"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="657.75" y="1872.8872">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="679.75" y="1872.8872">HTTP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="711.75" y="1872.8872">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="715.75" y="1872.8872">200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="739.75" y="1872.8872">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="743.75" y="1872.8872">(ok)</text><path d="M962.5,1861.8203 L962.5,1965.8203 L1160.5,1965.8203 L1160.5,1871.8203 L1150.5,1861.8203 L962.5,1861.8203 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1150.5,1861.8203 L1150.5,1871.8203 L1160.5,1871.8203 L1150.5,1861.8203 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="968.5" y="1894.02">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="1000.5" y="1909.1528">"roles": [</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="107" x="1032.5" y="1924.2856">&lt;array of roles&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="1000.5" y="1939.4185">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="968.5" y="1954.5513">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="963.5" x2="1046" y1="1874.3867" y2="1874.3867"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="1046" y="1878.3872">body</text><line style="stroke:#181818;stroke-width:0.5;" x1="1077" x2="1159.5" y1="1874.3867" y2="1874.3867"/><path d="M221.5,1976.6172 L221.5,2001.6172 L726.5,2001.6172 L726.5,1986.6172 L716.5,1976.6172 L221.5,1976.6172 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><path d="M716.5,1976.6172 L716.5,1986.6172 L726.5,1986.6172 L716.5,1976.6172 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="480" x="227.5" y="1993.6841">On any other failure, return HTTP 500 (server error) with specific error body.</text><path d="M46,2010.75 L116,2010.75 L116,2017.8828 L106,2027.8828 L46,2027.8828 L46,2010.75 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="261.5938" style="stroke:#000000;stroke-width:1.5;" width="1135.5" x="46" y="2010.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="61" y="2023.8169">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="40" x="131" y="2022.9604">[/atms</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="68" x="171" y="2022.9604">/&lt;bank id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="142" x="239" y="2022.9604">//roles.json not found]</text><polygon fill="#181818" points="935.5,2070.1484,945.5,2074.1484,935.5,2078.1484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="941.5" y1="2074.1484" y2="2074.1484"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="612.75" y="2061.5161">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="634.75" y="2053.9497">GET</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="659.75" y="2053.9497">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="60" x="663.75" y="2053.9497">&lt;storage</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="723.75" y="2053.9497">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="51" x="727.75" y="2053.9497">account</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="778.75" y="2053.9497">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="31" x="782.75" y="2053.9497">base</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="27" x="659.75" y="2069.0825">url&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="686.75" y="2069.0825">/atms/roles.json</text><path d="M67,2042.8828 L67,2101.8828 L469,2101.8828 L469,2052.8828 L459,2042.8828 L67,2042.8828 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M459,2042.8828 L459,2052.8828 L469,2052.8828 L459,2042.8828 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="73" y="2075.0825">x-ms-version: 2019-07-07</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="73" y="2090.2153">Authorization: Bearer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="235" x="213" y="2090.2153">&lt;access token for storage account&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="68" x2="245.5" y1="2055.4492" y2="2055.4492"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="245.5" y="2059.4497">header</text><line style="stroke:#181818;stroke-width:0.5;" x1="290.5" x2="468" y1="2055.4492" y2="2055.4492"/><polygon fill="#181818" points="490,2124.4141,480,2128.4141,490,2132.4141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="484" x2="946.5" y1="2128.4141" y2="2128.4141"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="657.75" y="2123.3481">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="679.75" y="2123.3481">HTTP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="711.75" y="2123.3481">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="715.75" y="2123.3481">200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="739.75" y="2123.3481">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="743.75" y="2123.3481">(ok)</text><path d="M962.5,2112.2813 L962.5,2216.2813 L1160.5,2216.2813 L1160.5,2122.2813 L1150.5,2112.2813 L962.5,2112.2813 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1150.5,2112.2813 L1150.5,2122.2813 L1160.5,2122.2813 L1150.5,2112.2813 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="968.5" y="2144.481">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="1000.5" y="2159.6138">"roles": [</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="107" x="1032.5" y="2174.7466">&lt;array of roles&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="1000.5" y="2189.8794">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="968.5" y="2205.0122">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="963.5" x2="1046" y1="2124.8477" y2="2124.8477"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="1046" y="2128.8481">body</text><line style="stroke:#181818;stroke-width:0.5;" x1="1077" x2="1159.5" y1="2124.8477" y2="2124.8477"/><path d="M221.5,2227.0781 L221.5,2267.0781 L726.5,2267.0781 L726.5,2237.0781 L716.5,2227.0781 L221.5,2227.0781 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><path d="M716.5,2227.0781 L716.5,2237.0781 L726.5,2237.0781 L716.5,2227.0781 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="468" x="227.5" y="2244.145">On file not found, return HTTP 401 (unauthorized) with specific error body.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="480" x="227.5" y="2259.2778">On any other failure, return HTTP 500 (server error) with specific error body.</text><path d="M200.5,2318.3438 L270.5,2318.3438 L270.5,2325.4766 L260.5,2335.4766 L200.5,2335.4766 L200.5,2318.3438 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="291.5938" style="stroke:#000000;stroke-width:1.5;" width="1280" x="200.5" y="2318.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="215.5" y="2331.4106">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="5" x="285.5" y="2330.5542">[</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="79" x="290.5" y="2330.5542">&lt;user code&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="47" x="373.5" y="2330.5542">!= null]</text><path d="M219.5,2349.4766 L396.5,2349.4766 L396.5,2356.6094 L386.5,2366.6094 L219.5,2366.6094 L219.5,2349.4766 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="246.4609" style="stroke:#000000;stroke-width:1.5;" width="1236" x="219.5" y="2349.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="132" x="234.5" y="2362.5435">protect user code</text><polygon fill="#181818" points="1149.5,2393.7422,1159.5,2397.7422,1149.5,2401.7422" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="1155.5" y1="2397.7422" y2="2397.7422"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="730.25" y="2392.6763">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="752.25" y="2392.6763">PUT</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="777.25" y="2392.6763">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="781.25" y="2392.6763">/tokenizer/v1/tokens</text><path d="M279,2381.6094 L279,2489.6094 L469,2489.6094 L469,2391.6094 L459,2381.6094 L279,2381.6094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M459,2381.6094 L459,2391.6094 L469,2391.6094 L459,2381.6094 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="285" y="2413.8091">x-api-key:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="97" x="351" y="2413.8091">&lt;pdv api-key&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="280" x2="351.5" y1="2394.1758" y2="2394.1758"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="351.5" y="2398.1763">header</text><line style="stroke:#181818;stroke-width:0.5;" x1="396.5" x2="468" y1="2394.1758" y2="2394.1758"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="285" y="2448.0747">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="317" y="2463.2075">"pii": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="85" x="354" y="2463.2075">&lt;user code&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="439" y="2463.2075">"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="285" y="2478.3403">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="280" x2="358.5" y1="2428.4414" y2="2428.4414"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="358.5" y="2432.4419">body</text><line style="stroke:#181818;stroke-width:0.5;" x1="389.5" x2="468" y1="2428.4414" y2="2428.4414"/><polygon fill="#181818" points="490,2512.5391,480,2516.5391,490,2520.5391" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="484" x2="1160.5" y1="2516.5391" y2="2516.5391"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="807.25" y="2511.4731">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="829.25" y="2511.4731">&#160;</text><path d="M1176.5,2500.4063 L1176.5,2555.4063 L1434.5,2555.4063 L1434.5,2510.4063 L1424.5,2500.4063 L1176.5,2500.4063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1424.5,2500.4063 L1424.5,2510.4063 L1434.5,2510.4063 L1424.5,2500.4063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1182.5" y="2517.4731">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="1214.5" y="2532.606">"token": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="141" x="1273.5" y="2532.606">&lt;token of user code&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="1414.5" y="2532.606">"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1182.5" y="2547.7388">}</text><path d="M240.5,2565.8047 L240.5,2590.8047 L707.5,2590.8047 L707.5,2575.8047 L697.5,2565.8047 L240.5,2565.8047 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><path d="M697.5,2565.8047 L697.5,2575.8047 L707.5,2575.8047 L697.5,2565.8047 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="442" x="246.5" y="2582.8716">On any failure, return HTTP 500 (server error) with specific error body.</text><path d="M458,2627.9375 L706,2627.9375 L706,2635.0703 L696,2645.0703 L458,2645.0703 L458,2627.9375 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="247.8594" style="stroke:#000000;stroke-width:1.5;" width="571" x="458" y="2627.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="203" x="473" y="2641.0044">build access token payload</text><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="521" y1="2691.3359" y2="2691.3359"/><line style="stroke:#181818;stroke-width:1.0;" x1="521" x2="521" y1="2691.3359" y2="2704.3359"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="521" y1="2704.3359" y2="2704.3359"/><polygon fill="#181818" points="490,2700.3359,480,2704.3359,490,2708.3359" style="stroke:#181818;stroke-width:1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="486" y="2678.7036">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="508" y="2671.1372">generate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="566" y="2671.1372">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="55" x="570" y="2671.1372">&lt;access</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="625" y="2671.1372">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="36" x="629" y="2671.1372">token</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="62" x="555.5" y="2686.27">payload&gt;</text><path d="M677,2660.0703 L677,2870.0703 L1008,2870.0703 L1008,2670.0703 L998,2660.0703 L677,2660.0703 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M998,2660.0703 L998,2670.0703 L1008,2670.0703 L998,2660.0703 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="683" y="2692.27">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="715" y="2707.4028">"sub": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="68" x="761" y="2707.4028">&lt;bank id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="833" y="2707.4028">||</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="90" x="845" y="2707.4028">&lt;terminal id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="935" y="2707.4028">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="715" y="2722.5356">"aud": "mil.pagopa.it",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="715" y="2737.6685">"iss": "https:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="99" x="792" y="2737.6685">//&lt;host name&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="891" y="2737.6685">/mil-auth",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="715" y="2752.8013">"iat":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="129" x="749" y="2752.8013">&lt;issue unix epoch&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="878" y="2752.8013">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="715" y="2767.9341">"exp":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="160" x="756" y="2767.9341">&lt;expiration unix epoch&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="916" y="2767.9341">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="715" y="2783.0669">"channel": "ATM",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="715" y="2798.1997">"bankId": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="68" x="780" y="2798.1997">&lt;bank id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="848" y="2798.1997">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="715" y="2813.3325">"terminalId": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="90" x="802" y="2813.3325">&lt;terminal id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="892" y="2813.3325">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="715" y="2828.4653">"userCodeToken": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="141" x="837" y="2828.4653">&lt;token of user code&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="978" y="2828.4653">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="715" y="2843.5981">"groups": [</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="107" x="786" y="2843.5981">&lt;array of roles&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="897" y="2843.5981">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="683" y="2858.731">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="678" x2="762" y1="2672.6367" y2="2672.6367"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="161" x="762" y="2676.6372">&lt;access token payload&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="923" x2="1007" y1="2672.6367" y2="2672.6367"/><path d="M271,2893.7969 L515,2893.7969 L515,2900.9297 L505,2910.9297 L271,2910.9297 L271,2893.7969 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="60.2656" style="stroke:#000000;stroke-width:1.5;" width="966.5" x="271" y="2893.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="199" x="286" y="2906.8638">retrieve key to sign tokens</text><polygon fill="#90EE90" points="295.5,2925.9297,1199.5,2925.9297,1209.5,2936.9297,1199.5,2948.9297,295.5,2948.9297,285.5,2936.9297,295.5,2925.9297" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="295" x="600.25" y="2941.9966">See MAIN__retrieve_key_to_sign_tokens.puml</text><path d="M153,2972.0625 L347,2972.0625 L347,2979.1953 L337,2989.1953 L153,2989.1953 L153,2972.0625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="126.7969" style="stroke:#000000;stroke-width:1.5;" width="547" x="153" y="2972.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="149" x="168" y="2985.1294">build tokens header</text><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="521" y1="3020.3281" y2="3020.3281"/><line style="stroke:#181818;stroke-width:1.0;" x1="521" x2="521" y1="3020.3281" y2="3033.3281"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="521" y1="3033.3281" y2="3033.3281"/><polygon fill="#181818" points="490,3029.3281,480,3033.3281,490,3037.3281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="486" y="3015.2622">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="508" y="3015.2622">generate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="566" y="3015.2622">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="47" x="570" y="3015.2622">&lt;token</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="617" y="3015.2622">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="56" x="621" y="3015.2622">header&gt;</text><path d="M174,3004.1953 L174,3093.1953 L469,3093.1953 L469,3014.1953 L459,3004.1953 L174,3004.1953 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M459,3004.1953 L459,3014.1953 L469,3014.1953 L459,3004.1953 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="180" y="3036.395">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="212" y="3051.5278">"kid": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="86" x="253" y="3051.5278">&lt;key name&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="100" x="339" y="3051.5278">/&lt;key version&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="439" y="3051.5278">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="212" y="3066.6606">"alg": "RS256"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="180" y="3081.7935">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="175" x2="268" y1="3016.7617" y2="3016.7617"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="107" x="268" y="3020.7622">&lt;token header&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="375" x2="468" y1="3016.7617" y2="3016.7617"/><path d="M91,3116.8594 L269,3116.8594 L269,3123.9922 L259,3133.9922 L91,3133.9922 L91,3116.8594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="471.1875" style="stroke:#000000;stroke-width:1.5;" width="1468" x="91" y="3116.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="133" x="106" y="3129.9263">sign access token</text><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="521" y1="3180.2578" y2="3180.2578"/><line style="stroke:#181818;stroke-width:1.0;" x1="521" x2="521" y1="3180.2578" y2="3193.2578"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="521" y1="3193.2578" y2="3193.2578"/><polygon fill="#181818" points="490,3189.2578,480,3193.2578,490,3197.2578" style="stroke:#181818;stroke-width:1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="486" y="3167.6255">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="508" y="3160.0591">generate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="566" y="3160.0591">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="47" x="570" y="3160.0591">&lt;string</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="617" y="3160.0591">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="13" x="621" y="3160.0591">to</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="634" y="3160.0591">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="26" x="638" y="3160.0591">sign</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="664" y="3160.0591">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="17" x="668" y="3160.0591">for</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="44" x="549" y="3175.1919">access</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="593" y="3175.1919">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="47" x="597" y="3175.1919">token&gt;</text><path d="M112,3148.9922 L112,3313.9922 L469,3313.9922 L469,3158.9922 L459,3148.9922 L112,3148.9922 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M459,3148.9922 L459,3158.9922 L469,3158.9922 L459,3148.9922 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="118" y="3181.1919">base64url(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="150" y="3196.3247">sha256(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="182" y="3211.4575">utf8(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="214" y="3226.5903">base64url(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="107" x="282" y="3226.5903">&lt;token header&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="389" y="3226.5903">) +</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="214" y="3241.7231">"." +</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="214" y="3256.856">base64url(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="161" x="282" y="3256.856">&lt;access token payload&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="443" y="3256.856">)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="182" y="3271.9888">)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="150" y="3287.1216">)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="118" y="3302.2544">)</text><line style="stroke:#181818;stroke-width:0.5;" x1="113" x2="183.5" y1="3161.5586" y2="3161.5586"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="214" x="183.5" y="3165.5591">&lt;string to sign for access token&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="397.5" x2="468" y1="3161.5586" y2="3161.5586"/><polygon fill="#181818" points="1043,3366.7188,1053,3370.7188,1043,3374.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="1049" y1="3370.7188" y2="3370.7188"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="658" y="3350.52">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="687.5" y="3335.3872">POST</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="721.5" y="3335.3872">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="725.5" y="3335.3872">POST</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="759.5" y="3335.3872">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="34" x="763.5" y="3335.3872">&lt;key</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="797.5" y="3335.3872">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="32" x="801.5" y="3335.3872">vault</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="833.5" y="3335.3872">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="31" x="837.5" y="3335.3872">base</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="27" x="684" y="3350.52">url&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="711" y="3350.52">/keys</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="38" x="744" y="3350.52">/&lt;key</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="782" y="3350.52">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="48" x="786" y="3350.52">name&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="38" x="834" y="3350.52">/&lt;key</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="58" x="680" y="3365.6528">version&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="738" y="3365.6528">/sign?api-version=7.4</text><path d="M112,3324.3203 L112,3447.3203 L469,3447.3203 L469,3334.3203 L459,3324.3203 L112,3324.3203 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M459,3324.3203 L459,3334.3203 L469,3334.3203 L459,3324.3203 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="118" y="3356.52">Authorization: Bearer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="190" x="258" y="3356.52">&lt;access token for key vault&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="113" x2="268" y1="3336.8867" y2="3336.8867"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="268" y="3340.8872">header</text><line style="stroke:#181818;stroke-width:0.5;" x1="313" x2="468" y1="3336.8867" y2="3336.8867"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="118" y="3390.7856">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="150" y="3405.9185">"alg": "RS256",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="150" y="3421.0513">"value": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="214" x="207" y="3421.0513">&lt;string to sign for access token&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="421" y="3421.0513">"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="118" y="3436.1841">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="113" x2="275" y1="3371.1523" y2="3371.1523"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="275" y="3375.1528">body</text><line style="stroke:#181818;stroke-width:0.5;" x1="306" x2="468" y1="3371.1523" y2="3371.1523"/><polygon fill="#181818" points="490,3470.3828,480,3474.3828,490,3478.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="484" x2="1054" y1="3474.3828" y2="3474.3828"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="711.5" y="3469.3169">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="733.5" y="3469.3169">HTTP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="765.5" y="3469.3169">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="769.5" y="3469.3169">200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="793.5" y="3469.3169">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="797.5" y="3469.3169">(ok)</text><path d="M1070,3458.25 L1070,3547.25 L1538,3547.25 L1538,3468.25 L1528,3458.25 L1070,3458.25 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1528,3458.25 L1528,3468.25 L1538,3468.25 L1528,3458.25 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1076" y="3490.4497">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="1108" y="3505.5825">"kid": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="136" x="1149" y="3505.5825">&lt;key vault base url&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="1285" y="3505.5825">/keys</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="90" x="1318" y="3505.5825">/&lt;key name&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="100" x="1408" y="3505.5825">/&lt;key version&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="1508" y="3505.5825">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="1108" y="3520.7153">"value": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="253" x="1165" y="3520.7153">&lt;base64url of access token signature&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="1418" y="3520.7153">"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1076" y="3535.8481">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="1071" x2="1288.5" y1="3470.8164" y2="3470.8164"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="1288.5" y="3474.8169">body</text><line style="stroke:#181818;stroke-width:0.5;" x1="1319.5" x2="1537" y1="3470.8164" y2="3470.8164"/><path d="M240.5,3557.9141 L240.5,3582.9141 L707.5,3582.9141 L707.5,3567.9141 L697.5,3557.9141 L240.5,3557.9141 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><path d="M697.5,3557.9141 L697.5,3567.9141 L707.5,3567.9141 L697.5,3557.9141 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="442" x="246.5" y="3574.981">On any failure, return HTTP 500 (server error) with specific error body.</text><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="521" y1="3683.7109" y2="3683.7109"/><line style="stroke:#181818;stroke-width:1.0;" x1="521" x2="521" y1="3683.7109" y2="3696.7109"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="521" y1="3696.7109" y2="3696.7109"/><polygon fill="#181818" points="490,3692.7109,480,3696.7109,490,3700.7109" style="stroke:#181818;stroke-width:1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="486" y="3648.3794">24</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="55" x="547.5" y="3618.1138">&lt;access</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="602.5" y="3618.1138">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="47" x="606.5" y="3618.1138">token&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="653.5" y="3618.1138">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="657.5" y="3618.1138">=</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="510.5" y="3633.2466">base64url(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="47" x="578.5" y="3633.2466">&lt;token</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="625.5" y="3633.2466">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="56" x="629.5" y="3633.2466">header&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="685.5" y="3633.2466">)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="690.5" y="3633.2466">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="694.5" y="3633.2466">+</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="508" y="3648.3794">"."</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="522" y="3648.3794">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="526" y="3648.3794">+</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="537" y="3648.3794">&#160;&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="545" y="3648.3794">base64url(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="55" x="613" y="3648.3794">&lt;access</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="668" y="3648.3794">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="36" x="672" y="3648.3794">token</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="62" x="511.5" y="3663.5122">payload&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="573.5" y="3663.5122">)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="578.5" y="3663.5122">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="582.5" y="3663.5122">+</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="593.5" y="3663.5122">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="597.5" y="3663.5122">"."</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="611.5" y="3663.5122">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="615.5" y="3663.5122">+</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="626.5" y="3663.5122">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="74" x="630.5" y="3663.5122">&lt;base64url</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="12" x="520.5" y="3678.645">of</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="532.5" y="3678.645">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="44" x="536.5" y="3678.645">access</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="580.5" y="3678.645">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="36" x="584.5" y="3678.645">token</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="620.5" y="3678.645">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="71" x="624.5" y="3678.645">signature&gt;</text><polygon fill="#181818" points="345,3721.8438,335,3725.8438,345,3729.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="339" x2="468" y1="3725.8438" y2="3725.8438"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="346" y="3720.7778">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="368" y="3720.7778">HTTP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="400" y="3720.7778">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="404" y="3720.7778">200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="428" y="3720.7778">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="432" y="3720.7778">(ok)</text><path d="M484,3709.7109 L484,3809.7109 L782,3809.7109 L782,3719.7109 L772,3709.7109 L484,3709.7109 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M772,3709.7109 L772,3719.7109 L782,3719.7109 L772,3709.7109 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="490" y="3726.7778">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="522" y="3741.9106">"access_token": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="106" x="632" y="3741.9106">&lt;access token&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="738" y="3741.9106">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="522" y="3757.0435">"refresh_token": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="107" x="633" y="3757.0435">&lt;refresh token&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="740" y="3757.0435">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="522" y="3772.1763">"token_type": "Bearer",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="522" y="3787.3091">"expires_in":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="163" x="604" y="3787.3091">&lt;access token duration&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="490" y="3802.4419">}</text><!--SRC=[NP8_RuCm4CLd-1GNXlvH6gWwHas6JitKgCrkEVObM81DRLCrglhTUpQa8Gm8thlV7Ru7CwL5tKba3TSdoFD2cAOnkd2LqddRDNKwkoAuyCQwlfAIK5_S8t3VaF8DBDRGg9hnpfSmdyCIjcyVEoYygL2dYJR4rdZmQP8mLYANQ1aZyOwV7Jg_aKieYcVRAr1oNHGHtHjvYk3HSksPFxMu4hL2UXOM9TqLhzqD0OEhv8e6zQAVCoewf2O_0dfZWFPSLqD_UBnqUxIDqhmUYcTv0Jf7wmWZCPI3W23EEqoykCx6tpemhLU61kLfWbf222cTfBxlL2rPJF6S_N_C2yeyHh-Wk5ztkoqyFJx2dQdkXy2jEfOXyH-waemBWSxrix8bP7Iite9eqScoXmXQF5XqvHKvU5CqolXL0lU2tA8TIlZTAcfXAeoOl0jaPtdOlO_eTxo_nF7FzGS0]--></g></svg>