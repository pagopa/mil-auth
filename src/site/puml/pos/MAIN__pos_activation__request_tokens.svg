<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="4189px" preserveAspectRatio="none" style="width:1602px;height:4189px;background:#FFFFFF;" version="1.1" viewBox="0 0 1602 4189" width="1602px" zoomAndPan="magnify"><defs/><g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="329" x2="329" y1="83.5938" y2="4182.2891"/><rect fill="#1E90FF" height="4085.6953" style="stroke:#181818;stroke-width:1.0;" width="10" x="324" y="91.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="474" x2="474" y1="83.5938" y2="4182.2891"/><rect fill="#1E90FF" height="3969.8984" style="stroke:#181818;stroke-width:1.0;" width="10" x="469" y="112.7266"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="715" x2="715" y1="83.5938" y2="4182.2891"/><rect fill="#1E90FF" height="54.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="710" y="1609.0234"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="849" x2="849" y1="83.5938" y2="4182.2891"/><rect fill="#1E90FF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="844" y="508.8516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="964.5" x2="964.5" y1="83.5938" y2="4182.2891"/><rect fill="#1E90FF" height="54.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="959.5" y="778.4453"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1072" x2="1072" y1="83.5938" y2="4182.2891"/><rect fill="#1E90FF" height="103.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1067" y="3106.5156"/><rect fill="#1E90FF" height="103.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1067" y="3698.3672"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1151" x2="1151" y1="83.5938" y2="4182.2891"/><rect fill="#1E90FF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1146" y="262.6563"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="43" x="307.5" y="52.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="314.5" y="72.292">POS</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69" x="439.5" y="52.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="446.5" y="72.292">mil-auth</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="149" x="640.5" y="52.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="647.5" y="72.292">mil-terminal-registry</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="799.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="806.5" y="55.9951">Azure Active</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="818" y="72.292">Directory</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="908.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="915.5" y="55.9951">Azure Storage</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="936" y="72.292">Account</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="1030.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="1037.5" y="55.9951">Azure Key</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="1055" y="72.292">Vault</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="1127" y="63.9951">cache</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1123.5" y="80.292">(Redis)</text><path d="M1133,15 C1133,5 1151,5 1151,5 C1151,5 1169,5 1169,15 L1169,41 C1169,51 1151,51 1151,51 C1151,51 1133,51 1133,41 L1133,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1133,15 C1133,25 1151,25 1151,25 C1151,25 1169,25 1169,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><polygon fill="#181818" points="457,108.7266,467,112.7266,457,116.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="334" x2="463" y1="112.7266" y2="112.7266"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="9" x="356" y="107.6606">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="369" y="107.6606">POST</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="403" y="107.6606">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="407" y="107.6606">/token</text><path d="M101,96.5938 L101,204.5938 L324,204.5938 L324,106.5938 L314,96.5938 L101,96.5938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M314,96.5938 L314,106.5938 L324,106.5938 L314,96.5938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="107" y="128.7935">RequestId:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="86" x="178" y="128.7935">&lt;request id&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="102" x2="190" y1="109.1602" y2="109.1602"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="190" y="113.1606">header</text><line style="stroke:#181818;stroke-width:0.5;" x1="235" x2="323" y1="109.1602" y2="109.1602"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="107" y="163.0591">grant_type=device_code&amp;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="107" y="178.1919">client_id=</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="71" x="170" y="178.1919">&lt;client id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="241" y="178.1919">&amp;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="107" y="193.3247">device_code=</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="106" x="197" y="193.3247">&lt;terminal uuid&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="102" x2="197" y1="143.4258" y2="143.4258"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="197" y="147.4263">body</text><line style="stroke:#181818;stroke-width:0.5;" x1="228" x2="323" y1="143.4258" y2="143.4258"/><path d="M176.5,214.3906 L327.5,214.3906 L327.5,221.5234 L317.5,231.5234 L176.5,231.5234 L176.5,214.3906 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="135.6641" style="stroke:#000000;stroke-width:1.5;" width="1018" x="176.5" y="214.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="106" x="191.5" y="227.4575">get auth state</text><polygon fill="#181818" points="1134,258.6563,1144,262.6563,1134,266.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="1140" y1="262.6563" y2="262.6563"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="9" x="737.5" y="257.5903">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="750.5" y="257.5903">get(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="64" x="776.5" y="257.5903">&lt;terminal</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="840.5" y="257.5903">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="38" x="844.5" y="257.5903">uuid&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="882.5" y="257.5903">)</text><polygon fill="#181818" points="490,287.7891,480,291.7891,490,295.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="484" x2="1145" y1="291.7891" y2="291.7891"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="9" x="793" y="286.7231">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="806" y="286.7231">true</text><path d="M197.5,304.7891 L197.5,344.7891 L750.5,344.7891 L750.5,314.7891 L740.5,304.7891 L197.5,304.7891 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><path d="M740.5,304.7891 L740.5,314.7891 L750.5,314.7891 L740.5,304.7891 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="203.5" y="321.856">On</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="106" x="225.5" y="321.856">&lt;terminal uuid&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="400" x="335.5" y="321.856">not found, return HTTP 403 (forbidden) with specific error body.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="480" x="203.5" y="336.9888">On any other failure, return HTTP 500 (server error) with specific error body.</text><path d="M8,368.0547 L202,368.0547 L202,375.1875 L192,385.1875 L8,385.1875 L8,368.0547 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="3679.4375" style="stroke:#000000;stroke-width:1.5;" width="1588" x="8" y="368.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="149" x="23" y="381.1216">common processing</text><path d="M27,399.1875 L177,399.1875 L177,406.3203 L167,416.3203 L27,416.3203 L27,399.1875 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="714.1172" style="stroke:#000000;stroke-width:1.5;" width="1287" x="27" y="399.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="105" x="42" y="412.2544">verify client id</text><path d="M159,430.3203 L377,430.3203 L377,437.4531 L367,447.4531 L159,447.4531 L159,430.3203 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="266.7266" style="stroke:#000000;stroke-width:1.5;" width="1130" x="159" y="430.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="173" x="174" y="443.3872">get azure access token</text><polygon fill="#181818" points="832,504.8516,842,508.8516,832,512.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="838" y1="508.8516" y2="508.8516"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="9" x="494.5" y="488.6528">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="655.5" y="473.52">GET</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="159" x="507.5" y="488.6528">${IDENTITY_ENDPOINT}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="666.5" y="488.6528">?api-version=2019-08-01</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244" x="546" y="503.7856">&amp;resource=https://storage.azure.com</text><path d="M180,462.4531 L180,506.4531 L469,506.4531 L469,472.4531 L459,462.4531 L180,462.4531 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M459,462.4531 L459,472.4531 L469,472.4531 L459,462.4531 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="186" y="494.6528">x-identity-header:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="145" x="303" y="494.6528">${IDENTITY_HEADER}</text><line style="stroke:#181818;stroke-width:0.5;" x1="181" x2="302" y1="475.0195" y2="475.0195"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="302" y="479.02">header</text><line style="stroke:#181818;stroke-width:0.5;" x1="347" x2="468" y1="475.0195" y2="475.0195"/><polygon fill="#181818" points="490,533.9844,480,537.9844,490,541.9844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="484" x2="843" y1="537.9844" y2="537.9844"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="9" x="610.5" y="532.9185">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="623.5" y="532.9185">HTTP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="655.5" y="532.9185">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="659.5" y="532.9185">200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="683.5" y="532.9185">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="687.5" y="532.9185">(ok)</text><path d="M859,521.8516 L859,656.8516 L1268,656.8516 L1268,531.8516 L1258,521.8516 L859,521.8516 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1258,521.8516 L1258,531.8516 L1268,531.8516 L1258,521.8516 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="865" y="554.0513">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="897" y="569.1841">"token_type": "Bearer",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="897" y="584.3169">"expires_on":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="65" x="984" y="584.3169">don't care</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1049" y="584.3169">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="897" y="599.4497">"client_id": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="65" x="972" y="599.4497">don't care</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="1037" y="599.4497">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="897" y="614.5825">"resource": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="65" x="976" y="614.5825">don't care</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="1041" y="614.5825">"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="897" y="629.7153">"access_token": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="235" x="1007" y="629.7153">&lt;access token for storage account&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="1242" y="629.7153">"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="865" y="644.8481">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="860" x2="1048" y1="534.418" y2="534.418"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="1048" y="538.4185">body</text><line style="stroke:#181818;stroke-width:0.5;" x1="1079" x2="1267" y1="534.418" y2="534.418"/><path d="M240.5,666.9141 L240.5,691.9141 L707.5,691.9141 L707.5,676.9141 L697.5,666.9141 L240.5,666.9141 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><path d="M697.5,666.9141 L697.5,676.9141 L707.5,676.9141 L697.5,666.9141 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="442" x="246.5" y="683.981">On any failure, return HTTP 500 (server error) with specific error body.</text><path d="M46,715.0469 L208,715.0469 L208,722.1797 L198,732.1797 L46,732.1797 L46,715.0469 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="306.9922" style="stroke:#000000;stroke-width:1.5;" width="1138.5" x="46" y="715.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="117" x="61" y="728.1138">get client id file</text><polygon fill="#181818" points="947.5,774.4453,957.5,778.4453,947.5,782.4453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="953.5" y1="778.4453" y2="778.4453"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="9" x="623.25" y="765.813">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="636.25" y="758.2466">GET</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="661.25" y="758.2466">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="60" x="665.25" y="758.2466">&lt;storage</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="725.25" y="758.2466">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="51" x="729.25" y="758.2466">account</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="780.25" y="758.2466">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="31" x="784.25" y="758.2466">base</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="27" x="637.25" y="773.3794">url&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="664.25" y="773.3794">/clients</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="49" x="709.25" y="773.3794">/&lt;client</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="758.25" y="773.3794">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="22" x="762.25" y="773.3794">id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="784.25" y="773.3794">.json</text><path d="M67,747.1797 L67,806.1797 L469,806.1797 L469,757.1797 L459,747.1797 L67,747.1797 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M459,747.1797 L459,757.1797 L469,757.1797 L459,747.1797 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="73" y="779.3794">x-ms-version: 2019-07-07</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="73" y="794.5122">Authorization: Bearer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="235" x="213" y="794.5122">&lt;access token for storage account&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="68" x2="245.5" y1="759.7461" y2="759.7461"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="245.5" y="763.7466">header</text><line style="stroke:#181818;stroke-width:0.5;" x1="290.5" x2="468" y1="759.7461" y2="759.7461"/><polygon fill="#181818" points="490,828.7109,480,832.7109,490,836.7109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="484" x2="958.5" y1="832.7109" y2="832.7109"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="9" x="668.25" y="827.645">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="681.25" y="827.645">HTTP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="713.25" y="827.645">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="717.25" y="827.645">200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="741.25" y="827.645">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="745.25" y="827.645">(ok)</text><path d="M974.5,816.5781 L974.5,966.5781 L1163.5,966.5781 L1163.5,826.5781 L1153.5,816.5781 L974.5,816.5781 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1153.5,816.5781 L1153.5,826.5781 L1163.5,826.5781 L1153.5,816.5781 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="980.5" y="848.7778">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="1012.5" y="863.9106">"id": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="71" x="1046.5" y="863.9106">&lt;client id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="1117.5" y="863.9106">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="1012.5" y="879.0435">"channel": "POS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="1012.5" y="894.1763">"grantTypes": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="1044.5" y="909.3091">"device_code",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="1044.5" y="924.4419">"refresh_token"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="1012.5" y="939.5747">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="980.5" y="954.7075">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="975.5" x2="1053.5" y1="829.1445" y2="829.1445"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="1053.5" y="833.145">body</text><line style="stroke:#181818;stroke-width:0.5;" x1="1084.5" x2="1162.5" y1="829.1445" y2="829.1445"/><path d="M192,976.7734 L192,1016.7734 L756,1016.7734 L756,986.7734 L746,976.7734 L192,976.7734 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><path d="M746,976.7734 L746,986.7734 L756,986.7734 L746,976.7734 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="198" y="993.8403">On</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="71" x="220" y="993.8403">&lt;client id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="446" x="295" y="993.8403">file not found, return HTTP 401 (unauthorized) with specific error body.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="480" x="198" y="1008.9731">On any other failure, return HTTP 500 (server error) with specific error body.</text><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="521" y1="1057.1719" y2="1057.1719"/><line style="stroke:#181818;stroke-width:1.0;" x1="521" x2="521" y1="1057.1719" y2="1070.1719"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="521" y1="1070.1719" y2="1070.1719"/><polygon fill="#181818" points="490,1066.1719,480,1070.1719,490,1074.1719" style="stroke:#181818;stroke-width:1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="9" x="486" y="1052.106">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="499" y="1052.106">verify</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="533" y="1052.106">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="537" y="1052.106">channel</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="587" y="1052.106">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="591" y="1052.106">and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="615" y="1052.106">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="619" y="1052.106">grant</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="653" y="1052.106">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="657" y="1052.106">types</text><path d="M168.5,1083.1719 L168.5,1108.1719 L779.5,1108.1719 L779.5,1093.1719 L769.5,1083.1719 L168.5,1083.1719 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><path d="M769.5,1083.1719 L769.5,1093.1719 L779.5,1093.1719 L769.5,1083.1719 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="590" x="174.5" y="1100.2388">On channel or grant type mismatch, return HTTP 401 (unauthorized) with specific error body.</text><path d="M107,1131.3047 L282,1131.3047 L282,1138.4375 L272,1148.4375 L107,1148.4375 L107,1131.3047 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="902.9063" style="stroke:#000000;stroke-width:1.5;" width="986" x="107" y="1131.3047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="130" x="122" y="1144.3716">get terminal data</text><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="521" y1="1179.5703" y2="1179.5703"/><line style="stroke:#181818;stroke-width:1.0;" x1="521" x2="521" y1="1179.5703" y2="1192.5703"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="521" y1="1192.5703" y2="1192.5703"/><polygon fill="#181818" points="490,1188.5703,480,1192.5703,490,1196.5703" style="stroke:#181818;stroke-width:1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="9" x="486" y="1174.5044">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="499" y="1174.5044">POST</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="533" y="1174.5044">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="537" y="1174.5044">/token</text><path d="M128,1163.4375 L128,1567.4375 L469,1567.4375 L469,1173.4375 L459,1163.4375 L128,1163.4375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M459,1163.4375 L459,1173.4375 L469,1173.4375 L459,1163.4375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="134" y="1195.6372">client_id=</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="128" x="197" y="1195.6372">&lt;mil-auth client id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="325" y="1195.6372">&amp;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="134" y="1210.77">grant_type=client_credentials&amp;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="134" y="1225.9028">client_secret=</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="62" x="226" y="1225.9028">&lt;secret&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="129" x2="256.5" y1="1176.0039" y2="1176.0039"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="256.5" y="1180.0044">request body</text><line style="stroke:#181818;stroke-width:0.5;" x1="340.5" x2="468" y1="1176.0039" y2="1176.0039"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="134" y="1260.1685">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="166" y="1275.3013">"access_token": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="163" x="276" y="1275.3013">&lt;mil-auth access token&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="439" y="1275.3013">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="166" y="1290.4341">"token_type": "Bearer",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="166" y="1305.5669">"expires_in":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="163" x="248" y="1305.5669">&lt;access token duration&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="134" y="1320.6997">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="129" x2="251.5" y1="1240.5352" y2="1240.5352"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="251.5" y="1244.5356">response body</text><line style="stroke:#181818;stroke-width:0.5;" x1="345.5" x2="468" y1="1240.5352" y2="1240.5352"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="134" y="1354.9653">base64url(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="107" x="202" y="1354.9653">&lt;token header&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="309" y="1354.9653">) + "." +</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="134" y="1370.0981">base64url(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="161" x="202" y="1370.0981">&lt;access token payload&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="363" y="1370.0981">) + "." +</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="253" x="134" y="1385.231">&lt;base64url of access token signature&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="129" x2="217" y1="1335.332" y2="1335.332"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="163" x="217" y="1339.3325">&lt;mil-auth access token&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="380" x2="468" y1="1335.332" y2="1335.332"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="134" y="1419.4966">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="166" y="1434.6294">"sub": "mil-auth",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="166" y="1449.7622">"aud": "mil.pagopa.it",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="166" y="1464.895">"iss": "https:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="99" x="243" y="1464.895">//&lt;host name&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="342" y="1464.895">/mil-auth",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="166" y="1480.0278">"iat":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="129" x="200" y="1480.0278">&lt;issue unix epoch&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="329" y="1480.0278">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="166" y="1495.1606">"exp":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="160" x="207" y="1495.1606">&lt;expiration unix epoch&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="367" y="1495.1606">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="166" y="1510.2935">"groups": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="198" y="1525.4263">"pos_finder",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="166" y="1540.5591">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="134" y="1555.6919">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="129" x2="218" y1="1399.8633" y2="1399.8633"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="161" x="218" y="1403.8638">&lt;access token payload&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="379" x2="468" y1="1399.8633" y2="1399.8633"/><polygon fill="#181818" points="698,1605.0234,708,1609.0234,698,1613.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="704" y1="1609.0234" y2="1609.0234"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="503" y="1596.3911">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="525" y="1588.8247">GET</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="550" y="1588.8247">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="554" y="1588.8247">/terminals</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="68" x="618" y="1588.8247">/&lt;terminal</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="38" x="586.5" y="1603.9575">uuid&gt;</text><path d="M139,1577.7578 L139,1636.7578 L469,1636.7578 L469,1587.7578 L459,1577.7578 L139,1577.7578 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M459,1577.7578 L459,1587.7578 L469,1587.7578 L459,1577.7578 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="145" y="1609.9575">RequestId:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="86" x="216" y="1609.9575">&lt;request id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="145" y="1625.0903">Authorization: Bearer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="163" x="285" y="1625.0903">&lt;mil-auth access token&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="140" x2="281.5" y1="1590.3242" y2="1590.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="281.5" y="1594.3247">header</text><line style="stroke:#181818;stroke-width:0.5;" x1="326.5" x2="468" y1="1590.3242" y2="1590.3242"/><polygon fill="#181818" points="490,1659.2891,480,1663.2891,490,1667.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="484" x2="709" y1="1663.2891" y2="1663.2891"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="539" y="1658.2231">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="561" y="1658.2231">HTTP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="593" y="1658.2231">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="597" y="1658.2231">200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="621" y="1658.2231">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="625" y="1658.2231">(ok)</text><path d="M725,1647.1563 L725,1963.1563 L1072,1963.1563 L1072,1657.1563 L1062,1647.1563 L725,1647.1563 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1062,1647.1563 L1062,1657.1563 L1072,1657.1563 L1062,1647.1563 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="731" y="1679.356">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="763" y="1694.4888">"terminalUuid": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="106" x="868" y="1694.4888">&lt;terminal uuid&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="974" y="1694.4888">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="763" y="1709.6216">"serviceProviderId": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="140" x="894" y="1709.6216">&lt;service provider id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="1034" y="1709.6216">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="763" y="1724.7544">"terminalHandlerId": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="142" x="900" y="1724.7544">&lt;terminal handler id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="1042" y="1724.7544">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="763" y="1739.8872">"terminalId": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="90" x="850" y="1739.8872">&lt;terminal id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="940" y="1739.8872">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="763" y="1755.02">"enabled":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="73" x="832" y="1755.02">&lt;enabled&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="905" y="1755.02">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="763" y="1770.1528">"payeeCode": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="97" x="858" y="1770.1528">&lt;payee code&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="955" y="1770.1528">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="763" y="1785.2856">"slave": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="56" x="819" y="1785.2856">&lt;slave&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="875" y="1785.2856">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="763" y="1800.4185">"workstations": [</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="158" x="795" y="1815.5513">&lt;array of workstations&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="763" y="1830.6841">],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="763" y="1845.8169">"pagoPa": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="70" x="834" y="1845.8169">&lt;pagopa&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="904" y="1845.8169">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="763" y="1860.9497">"pagoPaConf": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="795" y="1876.0825">"pspId": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="60" x="852" y="1876.0825">&lt;psp id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="912" y="1876.0825">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="795" y="1891.2153">"brokerId": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="78" x="870" y="1891.2153">&lt;broker id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="948" y="1891.2153">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="795" y="1906.3481">"channelId": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="87" x="879" y="1906.3481">&lt;channel id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="966" y="1906.3481">"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="12" x="763" y="1921.481">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="763" y="1936.6138">"idpay": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="57" x="820" y="1936.6138">&lt;idpay&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="877" y="1936.6138">"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="731" y="1951.7466">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="726" x2="883" y1="1659.7227" y2="1659.7227"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="883" y="1663.7231">body</text><line style="stroke:#181818;stroke-width:0.5;" x1="914" x2="1071" y1="1659.7227" y2="1659.7227"/><path d="M210,1973.8125 L210,2028.8125 L738,2028.8125 L738,1983.8125 L728,1973.8125 L210,1973.8125 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><path d="M728,1973.8125 L728,1983.8125 L738,1983.8125 L728,1973.8125 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="503" x="216" y="1990.8794">On terminal not found, return HTTP 401 (unauthorized) with specific error body.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="216" y="2006.0122">On</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="73" x="238" y="2006.0122">&lt;enabled&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="408" x="315" y="2006.0122">= false, return HTTP 401 (unauthorized) with specific error body.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="480" x="216" y="2021.145">On any other failure, return HTTP 500 (server error) with specific error body.</text><path d="M458,2052.2109 L659,2052.2109 L659,2059.3438 L649,2069.3438 L458,2069.3438 L458,2052.2109 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="559.3828" style="stroke:#000000;stroke-width:1.5;" width="668" x="458" y="2052.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="156" x="473" y="2065.2778">build tokens payload</text><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="521" y1="2115.6094" y2="2115.6094"/><line style="stroke:#181818;stroke-width:1.0;" x1="521" x2="521" y1="2115.6094" y2="2128.6094"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="521" y1="2128.6094" y2="2128.6094"/><polygon fill="#181818" points="490,2124.6094,480,2128.6094,490,2132.6094" style="stroke:#181818;stroke-width:1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="486" y="2102.9771">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="508" y="2095.4106">generate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="566" y="2095.4106">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="55" x="570" y="2095.4106">&lt;access</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="625" y="2095.4106">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="36" x="629" y="2095.4106">token</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="62" x="555.5" y="2110.5435">payload&gt;</text><path d="M677,2084.3438 L677,2446.3438 L1105,2446.3438 L1105,2094.3438 L1095,2084.3438 L677,2084.3438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1095,2084.3438 L1095,2094.3438 L1105,2094.3438 L1095,2084.3438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="683" y="2116.5435">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="715" y="2131.6763">"sub": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="106" x="761" y="2131.6763">&lt;terminal uuid&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="867" y="2131.6763">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="715" y="2146.8091">"aud": "mil.pagopa.it",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="715" y="2161.9419">"iss": "https:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="99" x="792" y="2161.9419">//&lt;host name&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="891" y="2161.9419">/mil-auth",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="715" y="2177.0747">"iat":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="142" x="749" y="2177.0747">&lt;current unix epoch&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="891" y="2177.0747">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="715" y="2192.2075">"exp":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="142" x="756" y="2192.2075">&lt;current unix epoch&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="902" y="2192.2075">+</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="163" x="917" y="2192.2075">&lt;access token duration&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1080" y="2192.2075">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="715" y="2207.3403">"payeeCode": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="95" x="810" y="2207.3403">&lt;payeeCode&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="905" y="2207.3403">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="715" y="2222.4731">"channel": "POS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="715" y="2237.606">"serviceProviderId": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="140" x="846" y="2237.606">&lt;service provider id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="986" y="2237.606">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="715" y="2252.7388">"terminalHandlerId": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="142" x="852" y="2252.7388">&lt;terminal handler id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="994" y="2252.7388">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="715" y="2267.8716">"terminalId": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="90" x="802" y="2267.8716">&lt;terminal id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="892" y="2267.8716">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="715" y="2283.0044">"groups": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="747" y="2298.1372">"SlavePos",</text><path d="M827.25,2289.2865 L824,2292.0273 L827.25,2294.7031 L827.25,2292.5365 L832.6667,2292.5365 L832.6667,2291.4531 L827.25,2291.4531 L827.25,2289.2865 " fill="#FF0000" style="stroke:;stroke-width:0.0;stroke-dasharray:;"/><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="833.6667" y="2298.1372">&#160;</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="134" x="837.6667" y="2298.1372">Present if &lt;slave&gt; is</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="30" x="975.6667" y="2298.1372">true</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="1005.6667" y="2298.1372">.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="747" y="2313.27">"NoticePayer",</text><path d="M846.25,2304.4193 L843,2307.1601 L846.25,2309.8359 L846.25,2307.6693 L851.6667,2307.6693 L851.6667,2306.5859 L846.25,2306.5859 L846.25,2304.4193 " fill="#FF0000" style="stroke:;stroke-width:0.0;stroke-dasharray:;"/><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="852.6667" y="2313.27">&#160;</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="148" x="856.6667" y="2313.27">Present if &lt;pagopa&gt; is</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1008.6667" y="2313.27">true</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="1038.6667" y="2313.27">.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="747" y="2328.4028">"PayWithIDPay"</text><path d="M851.25,2319.5521 L848,2322.2929 L851.25,2324.9688 L851.25,2322.8021 L856.6667,2322.8021 L856.6667,2321.7188 L851.25,2321.7188 L851.25,2319.5521 " fill="#FF0000" style="stroke:;stroke-width:0.0;stroke-dasharray:;"/><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="857.6667" y="2328.4028">&#160;</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="135" x="861.6667" y="2328.4028">Present if &lt;idpay&gt; is</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1000.6667" y="2328.4028">true</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="1030.6667" y="2328.4028">.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="715" y="2343.5356">],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="715" y="2358.6685">"pagoPaConf": {</text><path d="M826.25,2349.8177 L823,2352.5585 L826.25,2355.2344 L826.25,2353.0677 L831.6667,2353.0677 L831.6667,2351.9844 L826.25,2351.9844 L826.25,2349.8177 " fill="#FF0000" style="stroke:;stroke-width:0.0;stroke-dasharray:;"/><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="832.6667" y="2358.6685">&#160;</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="148" x="836.6667" y="2358.6685">Present if &lt;pagopa&gt; is</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="30" x="988.6667" y="2358.6685">true</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="1018.6667" y="2358.6685">.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="747" y="2373.8013">"pspId": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="60" x="804" y="2373.8013">&lt;psp id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="864" y="2373.8013">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="747" y="2388.9341">"brokerId": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="78" x="822" y="2388.9341">&lt;broker id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="900" y="2388.9341">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="747" y="2404.0669">"channelId": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="87" x="831" y="2404.0669">&lt;channel id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="918" y="2404.0669">"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="715" y="2419.1997">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="683" y="2434.3325">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="678" x2="810.5" y1="2096.9102" y2="2096.9102"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="161" x="810.5" y="2100.9106">&lt;access token payload&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="971.5" x2="1104" y1="2096.9102" y2="2096.9102"/><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="521" y1="2487.6641" y2="2487.6641"/><line style="stroke:#181818;stroke-width:1.0;" x1="521" x2="521" y1="2487.6641" y2="2500.6641"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="521" y1="2500.6641" y2="2500.6641"/><polygon fill="#181818" points="490,2496.6641,480,2500.6641,490,2504.6641" style="stroke:#181818;stroke-width:1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="486" y="2475.0317">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="508" y="2467.4653">generate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="566" y="2467.4653">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="56" x="570" y="2467.4653">&lt;refresh</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="626" y="2467.4653">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="36" x="630" y="2467.4653">token</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="62" x="556" y="2482.5981">payload&gt;</text><path d="M678,2456.3984 L678,2606.3984 L1103,2606.3984 L1103,2466.3984 L1093,2456.3984 L678,2456.3984 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1093,2456.3984 L1093,2466.3984 L1103,2466.3984 L1093,2456.3984 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="684" y="2488.5981">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="716" y="2503.731">"jti": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="122" x="750" y="2503.731">&lt;refresh token id&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="872" y="2503.731">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="716" y="2518.8638">"sub": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="106" x="762" y="2518.8638">&lt;terminal uuid&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="868" y="2518.8638">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="716" y="2533.9966">"iat":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="142" x="750" y="2533.9966">&lt;current unix epoch&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="892" y="2533.9966">,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="716" y="2549.1294">"exp":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="142" x="757" y="2549.1294">&lt;current unix epoch&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="903" y="2549.1294">+</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="164" x="918" y="2549.1294">&lt;refresh token duration&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="716" y="2564.2622">"channel": "POS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="716" y="2579.395">"scope": "offline_access"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="684" y="2594.5278">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="679" x2="809.5" y1="2468.9648" y2="2468.9648"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="162" x="809.5" y="2472.9653">&lt;refresh token payload&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="971.5" x2="1102" y1="2468.9648" y2="2468.9648"/><path d="M291.5,2629.5938 L535.5,2629.5938 L535.5,2636.7266 L525.5,2646.7266 L291.5,2646.7266 L291.5,2629.5938 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="60.2656" style="stroke:#000000;stroke-width:1.5;" width="903" x="291.5" y="2629.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="199" x="306.5" y="2642.6606">retrieve key to sign tokens</text><polygon fill="#90EE90" points="319.5,2661.7266,1160.5,2661.7266,1170.5,2672.7266,1160.5,2684.7266,319.5,2684.7266,309.5,2672.7266,319.5,2661.7266" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="295" x="592.5" y="2677.7935">See MAIN__retrieve_key_to_sign_tokens.puml</text><path d="M153,2707.8594 L347,2707.8594 L347,2714.9922 L337,2724.9922 L153,2724.9922 L153,2707.8594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="126.7969" style="stroke:#000000;stroke-width:1.5;" width="547" x="153" y="2707.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="149" x="168" y="2720.9263">build tokens header</text><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="521" y1="2756.125" y2="2756.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="521" x2="521" y1="2756.125" y2="2769.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="521" y1="2769.125" y2="2769.125"/><polygon fill="#181818" points="490,2765.125,480,2769.125,490,2773.125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="486" y="2751.0591">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="508" y="2751.0591">generate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="566" y="2751.0591">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="47" x="570" y="2751.0591">&lt;token</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="617" y="2751.0591">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="56" x="621" y="2751.0591">header&gt;</text><path d="M174,2739.9922 L174,2828.9922 L469,2828.9922 L469,2749.9922 L459,2739.9922 L174,2739.9922 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M459,2739.9922 L459,2749.9922 L469,2749.9922 L459,2739.9922 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="180" y="2772.1919">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="212" y="2787.3247">"kid": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="86" x="253" y="2787.3247">&lt;key name&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="100" x="339" y="2787.3247">/&lt;key version&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="439" y="2787.3247">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="212" y="2802.4575">"alg": "RS256"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="180" y="2817.5903">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="175" x2="268" y1="2752.5586" y2="2752.5586"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="107" x="268" y="2756.5591">&lt;token header&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="375" x2="468" y1="2752.5586" y2="2752.5586"/><path d="M91,2852.6563 L269,2852.6563 L269,2859.7891 L259,2869.7891 L91,2869.7891 L91,2852.6563 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="471.1875" style="stroke:#000000;stroke-width:1.5;" width="1480" x="91" y="2852.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="133" x="106" y="2865.7231">sign access token</text><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="521" y1="2916.0547" y2="2916.0547"/><line style="stroke:#181818;stroke-width:1.0;" x1="521" x2="521" y1="2916.0547" y2="2929.0547"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="521" y1="2929.0547" y2="2929.0547"/><polygon fill="#181818" points="490,2925.0547,480,2929.0547,490,2933.0547" style="stroke:#181818;stroke-width:1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="486" y="2903.4224">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="508" y="2895.856">generate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="566" y="2895.856">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="47" x="570" y="2895.856">&lt;string</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="617" y="2895.856">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="13" x="621" y="2895.856">to</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="634" y="2895.856">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="26" x="638" y="2895.856">sign</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="664" y="2895.856">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="17" x="668" y="2895.856">for</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="44" x="549" y="2910.9888">access</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="593" y="2910.9888">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="47" x="597" y="2910.9888">token&gt;</text><path d="M112,2884.7891 L112,3049.7891 L469,3049.7891 L469,2894.7891 L459,2884.7891 L112,2884.7891 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M459,2884.7891 L459,2894.7891 L469,2894.7891 L459,2884.7891 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="118" y="2916.9888">base64url(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="150" y="2932.1216">sha256(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="182" y="2947.2544">utf8(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="214" y="2962.3872">base64url(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="107" x="282" y="2962.3872">&lt;token header&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="389" y="2962.3872">) +</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="214" y="2977.52">"." +</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="214" y="2992.6528">base64url(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="161" x="282" y="2992.6528">&lt;access token payload&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="443" y="2992.6528">)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="182" y="3007.7856">)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="150" y="3022.9185">)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="118" y="3038.0513">)</text><line style="stroke:#181818;stroke-width:0.5;" x1="113" x2="183.5" y1="2897.3555" y2="2897.3555"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="214" x="183.5" y="2901.356">&lt;string to sign for access token&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="397.5" x2="468" y1="2897.3555" y2="2897.3555"/><polygon fill="#181818" points="1055,3102.5156,1065,3106.5156,1055,3110.5156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="1061" y1="3106.5156" y2="3106.5156"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="664" y="3086.3169">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="693.5" y="3071.1841">POST</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="727.5" y="3071.1841">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="731.5" y="3071.1841">POST</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="765.5" y="3071.1841">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="34" x="769.5" y="3071.1841">&lt;key</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="803.5" y="3071.1841">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="32" x="807.5" y="3071.1841">vault</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="839.5" y="3071.1841">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="31" x="843.5" y="3071.1841">base</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="27" x="690" y="3086.3169">url&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="717" y="3086.3169">/keys</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="38" x="750" y="3086.3169">/&lt;key</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="788" y="3086.3169">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="48" x="792" y="3086.3169">name&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="38" x="840" y="3086.3169">/&lt;key</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="58" x="686" y="3101.4497">version&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="744" y="3101.4497">/sign?api-version=7.4</text><path d="M112,3060.1172 L112,3183.1172 L469,3183.1172 L469,3070.1172 L459,3060.1172 L112,3060.1172 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M459,3060.1172 L459,3070.1172 L469,3070.1172 L459,3060.1172 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="118" y="3092.3169">Authorization: Bearer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="190" x="258" y="3092.3169">&lt;access token for key vault&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="113" x2="268" y1="3072.6836" y2="3072.6836"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="268" y="3076.6841">header</text><line style="stroke:#181818;stroke-width:0.5;" x1="313" x2="468" y1="3072.6836" y2="3072.6836"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="118" y="3126.5825">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="150" y="3141.7153">"alg": "RS256",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="150" y="3156.8481">"value": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="214" x="207" y="3156.8481">&lt;string to sign for access token&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="421" y="3156.8481">"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="118" y="3171.981">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="113" x2="275" y1="3106.9492" y2="3106.9492"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="275" y="3110.9497">body</text><line style="stroke:#181818;stroke-width:0.5;" x1="306" x2="468" y1="3106.9492" y2="3106.9492"/><polygon fill="#181818" points="490,3206.1797,480,3210.1797,490,3214.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="484" x2="1066" y1="3210.1797" y2="3210.1797"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="717.5" y="3205.1138">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="739.5" y="3205.1138">HTTP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="771.5" y="3205.1138">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="775.5" y="3205.1138">200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="799.5" y="3205.1138">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="803.5" y="3205.1138">(ok)</text><path d="M1082,3194.0469 L1082,3283.0469 L1550,3283.0469 L1550,3204.0469 L1540,3194.0469 L1082,3194.0469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1540,3194.0469 L1540,3204.0469 L1550,3204.0469 L1540,3194.0469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1088" y="3226.2466">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="1120" y="3241.3794">"kid": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="136" x="1161" y="3241.3794">&lt;key vault base url&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="1297" y="3241.3794">/keys</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="90" x="1330" y="3241.3794">/&lt;key name&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="100" x="1420" y="3241.3794">/&lt;key version&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="1520" y="3241.3794">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="1120" y="3256.5122">"value": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="253" x="1177" y="3256.5122">&lt;base64url of access token signature&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="1430" y="3256.5122">"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1088" y="3271.645">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="1083" x2="1300.5" y1="3206.6133" y2="3206.6133"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="1300.5" y="3210.6138">body</text><line style="stroke:#181818;stroke-width:0.5;" x1="1331.5" x2="1549" y1="3206.6133" y2="3206.6133"/><path d="M240.5,3293.7109 L240.5,3318.7109 L707.5,3318.7109 L707.5,3303.7109 L697.5,3293.7109 L240.5,3293.7109 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><path d="M697.5,3293.7109 L697.5,3303.7109 L707.5,3303.7109 L697.5,3293.7109 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="442" x="246.5" y="3310.7778">On any failure, return HTTP 500 (server error) with specific error body.</text><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="521" y1="3419.5078" y2="3419.5078"/><line style="stroke:#181818;stroke-width:1.0;" x1="521" x2="521" y1="3419.5078" y2="3432.5078"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="521" y1="3432.5078" y2="3432.5078"/><polygon fill="#181818" points="490,3428.5078,480,3432.5078,490,3436.5078" style="stroke:#181818;stroke-width:1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="486" y="3384.1763">18</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="55" x="547.5" y="3353.9106">&lt;access</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="602.5" y="3353.9106">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="47" x="606.5" y="3353.9106">token&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="653.5" y="3353.9106">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="657.5" y="3353.9106">=</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="510.5" y="3369.0435">base64url(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="47" x="578.5" y="3369.0435">&lt;token</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="625.5" y="3369.0435">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="56" x="629.5" y="3369.0435">header&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="685.5" y="3369.0435">)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="690.5" y="3369.0435">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="694.5" y="3369.0435">+</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="508" y="3384.1763">"."</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="522" y="3384.1763">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="526" y="3384.1763">+</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="537" y="3384.1763">&#160;&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="545" y="3384.1763">base64url(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="55" x="613" y="3384.1763">&lt;access</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="668" y="3384.1763">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="36" x="672" y="3384.1763">token</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="62" x="511.5" y="3399.3091">payload&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="573.5" y="3399.3091">)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="578.5" y="3399.3091">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="582.5" y="3399.3091">+</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="593.5" y="3399.3091">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="597.5" y="3399.3091">"."</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="611.5" y="3399.3091">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="615.5" y="3399.3091">+</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="626.5" y="3399.3091">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="74" x="630.5" y="3399.3091">&lt;base64url</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="12" x="520.5" y="3414.4419">of</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="532.5" y="3414.4419">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="44" x="536.5" y="3414.4419">access</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="580.5" y="3414.4419">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="36" x="584.5" y="3414.4419">token</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="620.5" y="3414.4419">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="71" x="624.5" y="3414.4419">signature&gt;</text><path d="M90,3444.5078 L271,3444.5078 L271,3451.6406 L261,3461.6406 L90,3461.6406 L90,3444.5078 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="471.1875" style="stroke:#000000;stroke-width:1.5;" width="1481" x="90" y="3444.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="136" x="105" y="3457.5747">sign refresh token</text><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="521" y1="3507.9063" y2="3507.9063"/><line style="stroke:#181818;stroke-width:1.0;" x1="521" x2="521" y1="3507.9063" y2="3520.9063"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="521" y1="3520.9063" y2="3520.9063"/><polygon fill="#181818" points="490,3516.9063,480,3520.9063,490,3524.9063" style="stroke:#181818;stroke-width:1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="486" y="3495.2739">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="508" y="3487.7075">generate</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="566" y="3487.7075">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="47" x="570" y="3487.7075">&lt;string</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="617" y="3487.7075">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="13" x="621" y="3487.7075">to</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="634" y="3487.7075">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="26" x="638" y="3487.7075">sign</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="664" y="3487.7075">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="17" x="668" y="3487.7075">for</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="45" x="548.5" y="3502.8403">refresh</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="593.5" y="3502.8403">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="47" x="597.5" y="3502.8403">token&gt;</text><path d="M111,3476.6406 L111,3641.6406 L469,3641.6406 L469,3486.6406 L459,3476.6406 L111,3476.6406 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M459,3476.6406 L459,3486.6406 L469,3486.6406 L459,3476.6406 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="117" y="3508.8403">base64url(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="149" y="3523.9731">sha256(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="181" y="3539.106">utf8(</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="213" y="3554.2388">base64url(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="107" x="281" y="3554.2388">&lt;token header&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="20" x="388" y="3554.2388">) +</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="213" y="3569.3716">"." +</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="213" y="3584.5044">base64url(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="162" x="281" y="3584.5044">&lt;refresh token payload&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="443" y="3584.5044">)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="181" y="3599.6372">)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="149" y="3614.77">)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="117" y="3629.9028">)</text><line style="stroke:#181818;stroke-width:0.5;" x1="112" x2="182.5" y1="3489.207" y2="3489.207"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="215" x="182.5" y="3493.2075">&lt;string to sign for refresh token&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="397.5" x2="468" y1="3489.207" y2="3489.207"/><polygon fill="#181818" points="1055,3694.3672,1065,3698.3672,1055,3702.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="1061" y1="3698.3672" y2="3698.3672"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="664" y="3678.1685">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="693.5" y="3663.0356">POST</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="727.5" y="3663.0356">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="731.5" y="3663.0356">POST</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="765.5" y="3663.0356">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="34" x="769.5" y="3663.0356">&lt;key</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="803.5" y="3663.0356">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="32" x="807.5" y="3663.0356">vault</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="839.5" y="3663.0356">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="31" x="843.5" y="3663.0356">base</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="27" x="690" y="3678.1685">url&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="717" y="3678.1685">/keys</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="38" x="750" y="3678.1685">/&lt;key</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="788" y="3678.1685">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="48" x="792" y="3678.1685">name&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="38" x="840" y="3678.1685">/&lt;key</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="58" x="686" y="3693.3013">version&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="744" y="3693.3013">/sign?api-version=7.4</text><path d="M112,3651.9688 L112,3774.9688 L469,3774.9688 L469,3661.9688 L459,3651.9688 L112,3651.9688 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M459,3651.9688 L459,3661.9688 L469,3661.9688 L459,3651.9688 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="118" y="3684.1685">Authorization: Bearer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="190" x="258" y="3684.1685">&lt;access token for key vault&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="113" x2="268" y1="3664.5352" y2="3664.5352"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="268" y="3668.5356">header</text><line style="stroke:#181818;stroke-width:0.5;" x1="313" x2="468" y1="3664.5352" y2="3664.5352"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="118" y="3718.4341">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="150" y="3733.5669">"alg": "RS256",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="150" y="3748.6997">"value": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="215" x="207" y="3748.6997">&lt;string to sign for refresh token&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="422" y="3748.6997">"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="118" y="3763.8325">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="113" x2="275" y1="3698.8008" y2="3698.8008"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="275" y="3702.8013">body</text><line style="stroke:#181818;stroke-width:0.5;" x1="306" x2="468" y1="3698.8008" y2="3698.8008"/><polygon fill="#181818" points="490,3798.0313,480,3802.0313,490,3806.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="484" x2="1066" y1="3802.0313" y2="3802.0313"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="717.5" y="3796.9653">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="739.5" y="3796.9653">HTTP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="771.5" y="3796.9653">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="775.5" y="3796.9653">200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="799.5" y="3796.9653">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="803.5" y="3796.9653">(ok)</text><path d="M1082,3785.8984 L1082,3874.8984 L1550,3874.8984 L1550,3795.8984 L1540,3785.8984 L1082,3785.8984 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1540,3785.8984 L1540,3795.8984 L1550,3795.8984 L1540,3785.8984 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1088" y="3818.0981">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="1120" y="3833.231">"kid": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="136" x="1161" y="3833.231">&lt;key vault base url&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="1297" y="3833.231">/keys</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="90" x="1330" y="3833.231">/&lt;key name&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="100" x="1420" y="3833.231">/&lt;key version&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="1520" y="3833.231">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="1120" y="3848.3638">"value": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="254" x="1177" y="3848.3638">&lt;base64url of refresh token signature&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="1431" y="3848.3638">"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1088" y="3863.4966">}</text><line style="stroke:#181818;stroke-width:0.5;" x1="1083" x2="1300.5" y1="3798.4648" y2="3798.4648"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="1300.5" y="3802.4653">body</text><line style="stroke:#181818;stroke-width:0.5;" x1="1331.5" x2="1549" y1="3798.4648" y2="3798.4648"/><path d="M240.5,3885.5625 L240.5,3910.5625 L707.5,3910.5625 L707.5,3895.5625 L697.5,3885.5625 L240.5,3885.5625 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><path d="M697.5,3885.5625 L697.5,3895.5625 L707.5,3895.5625 L697.5,3885.5625 " fill="#FFA500" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="442" x="246.5" y="3902.6294">On any failure, return HTTP 500 (server error) with specific error body.</text><line style="stroke:#181818;stroke-width:1.0;" x1="479" x2="521" y1="4026.4922" y2="4026.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="521" x2="521" y1="4026.4922" y2="4039.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="480" x2="521" y1="4039.4922" y2="4039.4922"/><polygon fill="#181818" points="490,4035.4922,480,4039.4922,490,4043.4922" style="stroke:#181818;stroke-width:1.0;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="486" y="3983.5942">22</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="56" x="544.5" y="3945.7622">&lt;refresh</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="600.5" y="3945.7622">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="47" x="604.5" y="3945.7622">token&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="651.5" y="3945.7622">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="655.5" y="3945.7622">=</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="508" y="3960.895">base64url(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="47" x="576" y="3960.895">&lt;token</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="623" y="3960.895">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="56" x="627" y="3960.895">header&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="683" y="3960.895">)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="688" y="3960.895">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="692" y="3960.895">+</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="525" y="3976.0278">"."</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="539" y="3976.0278">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="543" y="3976.0278">+</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="554" y="3976.0278">&#160;&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="562" y="3976.0278">base64url(</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="56" x="630" y="3976.0278">&lt;refresh</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="36" x="528" y="3991.1606">token</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="564" y="3991.1606">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="62" x="568" y="3991.1606">payload&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="630" y="3991.1606">)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="635" y="3991.1606">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="639" y="3991.1606">+</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="650" y="3991.1606">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="654" y="3991.1606">"."</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="668" y="3991.1606">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="672" y="3991.1606">+</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="74" x="516" y="4006.2935">&lt;base64url</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="590" y="4006.2935">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="12" x="594" y="4006.2935">of</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="606" y="4006.2935">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="45" x="610" y="4006.2935">refresh</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="4" x="655" y="4006.2935">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="36" x="659" y="4006.2935">token</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="71" x="570" y="4021.4263">signature&gt;</text><polygon fill="#181818" points="345,4078.625,335,4082.625,345,4086.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="339" x2="468" y1="4082.625" y2="4082.625"/><text fill="#0000FF" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" text-decoration="underline" textLength="18" x="346" y="4077.5591">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="368" y="4077.5591">HTTP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="400" y="4077.5591">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="404" y="4077.5591">200</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="428" y="4077.5591">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="432" y="4077.5591">(ok)</text><path d="M484,4066.4922 L484,4166.4922 L782,4166.4922 L782,4076.4922 L772,4066.4922 L484,4066.4922 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M772,4066.4922 L772,4076.4922 L782,4076.4922 L772,4066.4922 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="490" y="4083.5591">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="522" y="4098.6919">"access_token": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="106" x="632" y="4098.6919">&lt;access token&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="738" y="4098.6919">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="522" y="4113.8247">"refresh_token": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="107" x="633" y="4113.8247">&lt;refresh token&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="740" y="4113.8247">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="522" y="4128.9575">"token_type": "Bearer",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="522" y="4144.0903">"expires_in":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="163" x="604" y="4144.0903">&lt;access token duration&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="490" y="4159.2231">}</text><!--SRC=[RP4_JyCm4CNd-5DSCo1GQLqnHhG34qnKqDroxMjZrR63_rHKYE-EOmVKLWonzEwzdEz-dYWZT9J8EcvEC9zJORlE6keFoipxs6aokKXm4QppnI59g2CF2BtrXAG3PYleb6OyXXQcKsXW_Vg-0Hhi0GsfZ4rPZRj0gegn5hb4nrWIR_WHqOSNsG2bZwueK795QOvkhJpbuDvn4rWuzRYKU5G2cR0IRv8ZjC9aARbC7Oee3GRpB3lO0Lsd3DSGutW76Wd3TEHgtJs6l0pp8Utv7v1jL5golE0lbZy2iuGZKvab4i-RpHeU5WkujOUxaOLJ-tQ0yPM-gkP2eFUbLzr0dIOj9SYbD6XzduCETmvzUv4SQzVHB3Em8VU4tA4RBVpiLVg5gQ75rLqWe-D1MLDUuFkSaCJpT_y1]--></g></svg>